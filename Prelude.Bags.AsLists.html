<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Prelude.Bags.AsLists</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-prelude/tree/master/Prelude/Bags/AsLists.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="25" class="Symbol">;</a> <a id="27" class="Keyword">open</a> <a id="32" href="Prelude.Init.html#35" class="Module">SetAsType</a>
<a id="42" class="Keyword">open</a> <a id="47" href="Prelude.Init.html#6579" class="Module">L.Mem</a> <a id="53" class="Keyword">using</a> <a id="59" class="Symbol">(</a><a id="60" href="Data.List.Membership.Propositional.Properties.html#8613" class="Function">∈-filter⁻</a><a id="69" class="Symbol">;</a> <a id="71" href="Data.List.Membership.Propositional.Properties.html#8491" class="Function">∈-filter⁺</a><a id="80" class="Symbol">;</a> <a id="82" href="Data.List.Membership.Propositional.Properties.html#4134" class="Function">∈-++⁻</a><a id="87" class="Symbol">;</a> <a id="89" href="Data.List.Membership.Propositional.Properties.html#3956" class="Function">∈-++⁺ˡ</a><a id="95" class="Symbol">;</a> <a id="97" href="Data.List.Membership.Propositional.Properties.html#4045" class="Function">∈-++⁺ʳ</a><a id="103" class="Symbol">)</a>
<a id="105" class="Keyword">open</a> <a id="110" href="Prelude.Init.html#6815" class="Module">L.Uniq</a> <a id="117" class="Keyword">using</a> <a id="123" class="Symbol">(</a><a id="124" href="Data.List.Relation.Unary.Unique.Propositional.Properties.html#4942" class="Function">filter⁺</a><a id="131" class="Symbol">;</a> <a id="133" href="Data.List.Relation.Unary.Unique.Propositional.Properties.html#1781" class="Function">++⁺</a><a id="136" class="Symbol">;</a> <a id="138" href="Data.List.Relation.Unary.Unique.Propositional.Properties.html#1524" class="Function">map⁺</a><a id="142" class="Symbol">)</a>
<a id="144" class="Keyword">open</a> <a id="149" class="Keyword">import</a> <a id="156" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="172" class="Keyword">open</a> <a id="177" class="Keyword">import</a> <a id="184" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="198" class="Keyword">open</a> <a id="203" class="Keyword">import</a> <a id="210" href="Prelude.DecLists.html" class="Module">Prelude.DecLists</a>
<a id="227" class="Keyword">open</a> <a id="232" class="Keyword">import</a> <a id="239" href="Prelude.Membership.html" class="Module">Prelude.Membership</a>
<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="284" class="Keyword">open</a> <a id="289" class="Keyword">import</a> <a id="296" href="Prelude.Measurable.html" class="Module">Prelude.Measurable</a>
<a id="315" class="Keyword">open</a> <a id="320" class="Keyword">import</a> <a id="327" href="Prelude.Bifunctor.html" class="Module">Prelude.Bifunctor</a>
<a id="345" class="Keyword">open</a> <a id="350" class="Keyword">import</a> <a id="357" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="375" class="Keyword">open</a> <a id="380" class="Keyword">import</a> <a id="387" href="Prelude.Apartness.html" class="Module">Prelude.Apartness</a>
<a id="405" class="Keyword">open</a> <a id="410" class="Keyword">import</a> <a id="417" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="429" class="Keyword">open</a> <a id="434" class="Keyword">import</a> <a id="441" href="Prelude.ToList.html" class="Module">Prelude.ToList</a>
<a id="456" class="Keyword">open</a> <a id="461" class="Keyword">import</a> <a id="468" href="Prelude.FromList.html" class="Module">Prelude.FromList</a>
<a id="485" class="Keyword">open</a> <a id="490" class="Keyword">import</a> <a id="497" href="Prelude.Semigroup.html" class="Module">Prelude.Semigroup</a>
<a id="515" class="Keyword">open</a> <a id="520" class="Keyword">import</a> <a id="527" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>

<a id="551" class="Keyword">import</a> <a id="558" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="591" class="Symbol">as</a> <a id="594" class="Module">BinSetoid</a>

<a id="605" class="Keyword">module</a> <a id="612" href="Prelude.Bags.AsLists.html" class="Module">Prelude.Bags.AsLists</a> <a id="633" class="Symbol">{</a><a id="634" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a> <a id="636" class="Symbol">:</a> <a id="638" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="642" class="Symbol">}</a> <a id="644" class="Symbol">⦃</a> <a id="646" href="Prelude.Bags.AsLists.html#646" class="Bound">_</a> <a id="648" class="Symbol">:</a> <a id="650" href="Prelude.DecEq.Core.html#97" class="Record">DecEq</a> <a id="656" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a> <a id="658" class="Symbol">⦄</a> <a id="660" class="Keyword">where</a>

<a id="667" class="Comment">-- ** basic definitions</a>

<a id="692" class="Comment">-- Bags as lists with no duplicates and a counter for each element.</a>
<a id="760" class="Keyword">record</a> <a id="Bag"></a><a id="767" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a> <a id="771" class="Symbol">:</a> <a id="773" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="778" class="Keyword">where</a>
  <a id="786" class="Keyword">constructor</a> <a id="mkBag"></a><a id="798" href="Prelude.Bags.AsLists.html#798" class="InductiveConstructor">mkBag</a>
  <a id="806" class="Keyword">field</a> <a id="Bag.list"></a><a id="812" href="Prelude.Bags.AsLists.html#812" class="Field">list</a> <a id="817" class="Symbol">:</a> <a id="819" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="824" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a>
<a id="826" class="Keyword">open</a> <a id="831" href="Prelude.Bags.AsLists.html#767" class="Module">Bag</a>
<a id="835" class="Keyword">syntax</a> <a id="842" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a> <a id="846" class="Symbol">{</a>A <a id="849" class="Symbol">=</a> <a id="851" class="Bound">A</a><a id="852" class="Symbol">}</a> <a id="854" class="Symbol">=</a> <a id="856" class="Record">Set⟨</a> <a id="861" class="Bound">A</a> <a id="863" class="Record">⟩</a>

<a id="866" class="Keyword">private</a> <a id="874" class="Keyword">variable</a>
  <a id="885" href="Prelude.Bags.AsLists.html#885" class="Generalizable">x</a> <a id="887" href="Prelude.Bags.AsLists.html#887" class="Generalizable">x′</a> <a id="890" href="Prelude.Bags.AsLists.html#890" class="Generalizable">y</a> <a id="892" href="Prelude.Bags.AsLists.html#892" class="Generalizable">y′</a> <a id="895" href="Prelude.Bags.AsLists.html#895" class="Generalizable">z</a> <a id="897" href="Prelude.Bags.AsLists.html#897" class="Generalizable">z′</a> <a id="900" class="Symbol">:</a> <a id="902" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a>
  <a id="906" href="Prelude.Bags.AsLists.html#906" class="Generalizable">xs</a> <a id="909" href="Prelude.Bags.AsLists.html#909" class="Generalizable">ys</a> <a id="912" href="Prelude.Bags.AsLists.html#912" class="Generalizable">zs</a> <a id="915" class="Symbol">:</a> <a id="917" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="922" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a>
  <a id="926" href="Prelude.Bags.AsLists.html#926" class="Generalizable">Xs</a> <a id="929" href="Prelude.Bags.AsLists.html#929" class="Generalizable">Ys</a> <a id="932" href="Prelude.Bags.AsLists.html#932" class="Generalizable">Zs</a> <a id="935" href="Prelude.Bags.AsLists.html#935" class="Generalizable">s</a> <a id="937" href="Prelude.Bags.AsLists.html#937" class="Generalizable">s′</a> <a id="940" href="Prelude.Bags.AsLists.html#940" class="Generalizable">s″</a> <a id="943" class="Symbol">:</a> <a id="945" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a>
  <a id="951" href="Prelude.Bags.AsLists.html#951" class="Generalizable">P</a> <a id="953" class="Symbol">:</a> <a id="955" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="960" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a> <a id="962" href="Level.html#512" class="Function">0ℓ</a>

<a id="966" class="Comment">-----------------------------------------------------------------------</a>
<a id="1038" class="Comment">-- Lifting from list predicates/relations to set predicates/relations.</a>

<a id="1110" class="Keyword">private</a>
  <a id="1120" class="Keyword">record</a> <a id="Lift"></a><a id="1127" href="Prelude.Bags.AsLists.html#1127" class="Record">Lift</a> <a id="1132" class="Symbol">(</a><a id="1133" href="Prelude.Bags.AsLists.html#1133" class="Bound">F</a> <a id="1135" class="Symbol">:</a> <a id="1137" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="1142" class="Symbol">→</a> <a id="1144" href="Agda.Primitive.html#326" class="Primitive">Type₁</a><a id="1149" class="Symbol">)</a> <a id="1151" class="Symbol">:</a> <a id="1153" href="Agda.Primitive.html#326" class="Primitive">Type₁</a> <a id="1159" class="Keyword">where</a>
    <a id="1169" class="Keyword">field</a> <a id="Lift.↑"></a><a id="1175" href="Prelude.Bags.AsLists.html#1175" class="Field">↑</a> <a id="1177" class="Symbol">:</a> <a id="1179" href="Prelude.Bags.AsLists.html#1133" class="Bound">F</a> <a id="1181" class="Symbol">(</a><a id="1182" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1187" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a><a id="1188" class="Symbol">)</a> <a id="1190" class="Symbol">→</a> <a id="1192" href="Prelude.Bags.AsLists.html#1133" class="Bound">F</a> <a id="1194" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a>
  <a id="1200" class="Keyword">open</a> <a id="1205" href="Prelude.Bags.AsLists.html#1127" class="Module">Lift</a> <a id="1210" class="Symbol">⦃...⦄</a>

  <a id="1219" class="Keyword">instance</a>
    <a id="Lift-Pred"></a><a id="1232" href="Prelude.Bags.AsLists.html#1232" class="Function">Lift-Pred</a> <a id="1242" class="Symbol">:</a> <a id="1244" href="Prelude.Bags.AsLists.html#1127" class="Record">Lift</a> <a id="1249" href="Prelude.Init.html#12104" class="Function">Pred₀</a>
    <a id="1259" href="Prelude.Bags.AsLists.html#1232" class="Function">Lift-Pred</a> <a id="1269" class="Symbol">.</a><a id="1270" href="Prelude.Bags.AsLists.html#1175" class="Field">↑</a> <a id="1272" href="Prelude.Bags.AsLists.html#1272" class="Bound">P</a> <a id="1274" class="Symbol">=</a> <a id="1276" href="Prelude.Bags.AsLists.html#1272" class="Bound">P</a> <a id="1278" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1280" href="Prelude.Bags.AsLists.html#812" class="Field">list</a>

    <a id="Lift-Rel"></a><a id="1290" href="Prelude.Bags.AsLists.html#1290" class="Function">Lift-Rel</a> <a id="1299" class="Symbol">:</a> <a id="1301" href="Prelude.Bags.AsLists.html#1127" class="Record">Lift</a> <a id="1306" href="Prelude.Init.html#12110" class="Function">Rel₀</a>
    <a id="1315" href="Prelude.Bags.AsLists.html#1290" class="Function">Lift-Rel</a> <a id="1324" class="Symbol">.</a><a id="1325" href="Prelude.Bags.AsLists.html#1175" class="Field">↑</a> <a id="1327" href="Prelude.Bags.AsLists.html#1327" class="Bound Operator">_~_</a> <a id="1331" class="Symbol">=</a> <a id="1333" href="Prelude.Bags.AsLists.html#1327" class="Bound Operator">_~_</a> <a id="1337" href="Function.Base.html#6285" class="Function Operator">on</a> <a id="1340" href="Prelude.Bags.AsLists.html#812" class="Field">list</a>

<a id="1346" class="Comment">-- e.g. All/Any predicates for sets</a>
<a id="All&#39;"></a><a id="1382" href="Prelude.Bags.AsLists.html#1382" class="Function">All&#39;</a> <a id="Any&#39;"></a><a id="1387" href="Prelude.Bags.AsLists.html#1387" class="Function">Any&#39;</a> <a id="1392" class="Symbol">:</a> <a id="1394" href="Prelude.Init.html#12104" class="Function">Pred₀</a> <a id="1400" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a> <a id="1402" class="Symbol">→</a> <a id="1404" href="Prelude.Init.html#12104" class="Function">Pred₀</a> <a id="1410" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a>
<a id="1414" href="Prelude.Bags.AsLists.html#1382" class="Function">All&#39;</a> <a id="1419" class="Symbol">=</a> <a id="1421" href="Prelude.Bags.AsLists.html#1175" class="Field">↑</a> <a id="1423" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1425" href="Data.List.Relation.Unary.All.html#1444" class="Datatype">All</a>
<a id="1429" href="Prelude.Bags.AsLists.html#1387" class="Function">Any&#39;</a> <a id="1434" class="Symbol">=</a> <a id="1436" href="Prelude.Bags.AsLists.html#1175" class="Field">↑</a> <a id="1438" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1440" href="Data.List.Relation.Unary.Any.html#1156" class="Datatype">Any</a>

<a id="1445" class="Comment">-- infixr 8 _─_</a>
<a id="1461" class="Comment">-- infixr 7 _∩_</a>
<a id="1477" class="Comment">-- infixr 6 _∪_</a>
<a id="1493" class="Keyword">infix</a> <a id="1499" class="Number">4</a> <a id="1501" href="Prelude.Bags.AsLists.html#1524" class="Function Operator">_∈ˢ_</a> <a id="1506" href="Prelude.Bags.AsLists.html#1529" class="Function Operator">_∉ˢ_</a> <a id="1511" href="Prelude.Bags.AsLists.html#1596" class="Function Operator">_∈ˢ?_</a> <a id="1517" href="Prelude.Bags.AsLists.html#1645" class="Function Operator">_∉ˢ?_</a>

<a id="_∈ˢ_"></a><a id="1524" href="Prelude.Bags.AsLists.html#1524" class="Function Operator">_∈ˢ_</a> <a id="_∉ˢ_"></a><a id="1529" href="Prelude.Bags.AsLists.html#1529" class="Function Operator">_∉ˢ_</a> <a id="1534" class="Symbol">:</a> <a id="1536" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a> <a id="1538" class="Symbol">→</a> <a id="1540" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a> <a id="1544" class="Symbol">→</a> <a id="1546" href="Agda.Primitive.html#326" class="Primitive">Type</a>
<a id="1551" href="Prelude.Bags.AsLists.html#1551" class="Bound">o</a> <a id="1553" href="Prelude.Bags.AsLists.html#1524" class="Function Operator">∈ˢ</a> <a id="1556" href="Prelude.Bags.AsLists.html#1556" class="Bound">xs</a> <a id="1559" class="Symbol">=</a> <a id="1561" href="Prelude.Bags.AsLists.html#1551" class="Bound">o</a> <a id="1563" href="Prelude.Membership.html#379" class="Field Operator">∈</a> <a id="1565" href="Prelude.Bags.AsLists.html#812" class="Field">list</a> <a id="1570" href="Prelude.Bags.AsLists.html#1556" class="Bound">xs</a>
<a id="1573" href="Prelude.Bags.AsLists.html#1573" class="Bound">o</a> <a id="1575" href="Prelude.Bags.AsLists.html#1529" class="Function Operator">∉ˢ</a> <a id="1578" href="Prelude.Bags.AsLists.html#1578" class="Bound">xs</a> <a id="1581" class="Symbol">=</a> <a id="1583" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="1585" class="Symbol">(</a><a id="1586" href="Prelude.Bags.AsLists.html#1573" class="Bound">o</a> <a id="1588" href="Prelude.Bags.AsLists.html#1524" class="Function Operator">∈ˢ</a> <a id="1591" href="Prelude.Bags.AsLists.html#1578" class="Bound">xs</a><a id="1593" class="Symbol">)</a>

<a id="_∈ˢ?_"></a><a id="1596" href="Prelude.Bags.AsLists.html#1596" class="Function Operator">_∈ˢ?_</a> <a id="1602" class="Symbol">:</a> <a id="1604" href="Relation.Binary.Definitions.html#4575" class="Function">Decidable²</a> <a id="1615" href="Prelude.Bags.AsLists.html#1524" class="Function Operator">_∈ˢ_</a>
<a id="1620" href="Prelude.Bags.AsLists.html#1620" class="Bound">o</a> <a id="1622" href="Prelude.Bags.AsLists.html#1596" class="Function Operator">∈ˢ?</a> <a id="1626" href="Prelude.Bags.AsLists.html#1626" class="Bound">xs</a> <a id="1629" class="Symbol">=</a> <a id="1631" href="Prelude.Bags.AsLists.html#1620" class="Bound">o</a> <a id="1633" href="Prelude.Membership.html#405" class="Field Operator">∈?</a> <a id="1636" href="Prelude.Bags.AsLists.html#812" class="Field">list</a> <a id="1641" href="Prelude.Bags.AsLists.html#1626" class="Bound">xs</a>

<a id="_∉ˢ?_"></a><a id="1645" href="Prelude.Bags.AsLists.html#1645" class="Function Operator">_∉ˢ?_</a> <a id="1651" class="Symbol">:</a> <a id="1653" href="Relation.Binary.Definitions.html#4575" class="Function">Decidable²</a> <a id="1664" href="Prelude.Bags.AsLists.html#1529" class="Function Operator">_∉ˢ_</a>
<a id="1669" href="Prelude.Bags.AsLists.html#1669" class="Bound">o</a> <a id="1671" href="Prelude.Bags.AsLists.html#1645" class="Function Operator">∉ˢ?</a> <a id="1675" href="Prelude.Bags.AsLists.html#1675" class="Bound">xs</a> <a id="1678" class="Symbol">=</a> <a id="1680" href="Prelude.Bags.AsLists.html#1669" class="Bound">o</a> <a id="1682" href="Prelude.Membership.html#562" class="Function Operator">∉?</a> <a id="1685" href="Prelude.Bags.AsLists.html#812" class="Field">list</a> <a id="1690" href="Prelude.Bags.AsLists.html#1675" class="Bound">xs</a>


<a id="1695" class="Comment">-- _∷_∶-_ : (x : A) → (xs : Bag) → ¬ x ∈ˢ xs → Bag</a>
<a id="1746" class="Comment">-- x ∷ (xs ⊣ p) ∶- x∉ = (x ∷ xs) ⊣ (L.All.¬Any⇒All¬ _ x∉ ∷ p)</a>

<a id="1809" class="Comment">-- _&lt;$&gt;_∶-_ : (f : A → A) → Bag → (∀ {x y} → f x ≡ f y → x ≡ y) → Bag</a>
<a id="1879" class="Comment">-- f &lt;$&gt; (xs ⊣ p) ∶- inj = map f xs ⊣ map⁺ inj p</a>

<a id="filter′"></a><a id="1929" href="Prelude.Bags.AsLists.html#1929" class="Function">filter′</a> <a id="1937" class="Symbol">:</a> <a id="1939" href="Relation.Unary.html#3536" class="Function">Decidable¹</a> <a id="1950" href="Prelude.Bags.AsLists.html#951" class="Generalizable">P</a> <a id="1952" class="Symbol">→</a> <a id="1954" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a> <a id="1958" class="Symbol">→</a> <a id="1960" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a>
<a id="1964" href="Prelude.Bags.AsLists.html#1929" class="Function">filter′</a> <a id="1972" href="Prelude.Bags.AsLists.html#1972" class="Bound">P?</a> <a id="1975" class="Symbol">(</a><a id="1976" href="Prelude.Bags.AsLists.html#798" class="InductiveConstructor">mkBag</a> <a id="1982" href="Prelude.Bags.AsLists.html#1982" class="Bound">xs</a><a id="1984" class="Symbol">)</a> <a id="1986" class="Symbol">=</a> <a id="1988" href="Prelude.Bags.AsLists.html#798" class="InductiveConstructor">mkBag</a> <a id="1994" class="Symbol">(</a><a id="1995" href="Data.List.Base.html#8092" class="Function">filter</a> <a id="2002" href="Prelude.Bags.AsLists.html#1972" class="Bound">P?</a> <a id="2005" href="Prelude.Bags.AsLists.html#1982" class="Bound">xs</a><a id="2007" class="Symbol">)</a>

<a id="count′"></a><a id="2010" href="Prelude.Bags.AsLists.html#2010" class="Function">count′</a> <a id="2017" class="Symbol">:</a> <a id="2019" class="Symbol">∀</a> <a id="2021" class="Symbol">{</a><a id="2022" href="Prelude.Bags.AsLists.html#2022" class="Bound">P</a> <a id="2024" class="Symbol">:</a> <a id="2026" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="2031" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a> <a id="2033" href="Level.html#512" class="Function">0ℓ</a><a id="2035" class="Symbol">}</a> <a id="2037" class="Symbol">→</a> <a id="2039" href="Relation.Unary.html#3536" class="Function">Decidable¹</a> <a id="2050" href="Prelude.Bags.AsLists.html#2022" class="Bound">P</a> <a id="2052" class="Symbol">→</a> <a id="2054" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a> <a id="2058" class="Symbol">→</a> <a id="2060" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="2062" href="Prelude.Bags.AsLists.html#2010" class="Function">count′</a> <a id="2069" href="Prelude.Bags.AsLists.html#2069" class="Bound">P?</a> <a id="2072" class="Symbol">=</a> <a id="2074" href="Prelude.Lists.Count.html#246" class="Function">count</a> <a id="2080" href="Prelude.Bags.AsLists.html#2069" class="Bound">P?</a> <a id="2083" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="2085" href="Prelude.Bags.AsLists.html#812" class="Field">list</a>

<a id="∅"></a><a id="2091" href="Prelude.Bags.AsLists.html#2091" class="Function">∅</a> <a id="2093" class="Symbol">:</a> <a id="2095" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a>
<a id="2099" href="Prelude.Bags.AsLists.html#2091" class="Function">∅</a> <a id="2101" class="Symbol">=</a> <a id="2103" href="Prelude.Bags.AsLists.html#798" class="InductiveConstructor">mkBag</a> <a id="2109" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

<a id="singleton"></a><a id="2113" href="Prelude.Bags.AsLists.html#2113" class="Function">singleton</a> <a id="2123" class="Symbol">:</a> <a id="2125" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a> <a id="2127" class="Symbol">→</a> <a id="2129" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a>
<a id="2133" href="Prelude.Bags.AsLists.html#2113" class="Function">singleton</a> <a id="2143" href="Prelude.Bags.AsLists.html#2143" class="Bound">a</a> <a id="2145" class="Symbol">=</a> <a id="2147" href="Prelude.Bags.AsLists.html#798" class="InductiveConstructor">mkBag</a> <a id="2153" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="2155" href="Prelude.Bags.AsLists.html#2143" class="Bound">a</a> <a id="2157" href="Data.List.Base.html#5025" class="Function Operator">]</a>

<a id="singletonN"></a><a id="2160" href="Prelude.Bags.AsLists.html#2160" class="Function">singletonN</a> <a id="2171" class="Symbol">:</a> <a id="2173" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a> <a id="2175" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2177" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2179" class="Symbol">→</a> <a id="2181" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a>
<a id="2185" href="Prelude.Bags.AsLists.html#2160" class="Function">singletonN</a> <a id="2196" class="Symbol">(</a><a id="2197" href="Prelude.Bags.AsLists.html#2197" class="Bound">a</a> <a id="2199" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2201" href="Prelude.Bags.AsLists.html#2201" class="Bound">n</a><a id="2202" class="Symbol">)</a> <a id="2204" class="Symbol">=</a> <a id="2206" href="Prelude.Bags.AsLists.html#798" class="InductiveConstructor">mkBag</a> <a id="2212" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="2214" href="Data.List.Base.html#5139" class="Function">L.replicate</a> <a id="2226" href="Prelude.Bags.AsLists.html#2201" class="Bound">n</a> <a id="2228" href="Prelude.Bags.AsLists.html#2197" class="Bound">a</a>

<a id="singleton∈ˢ"></a><a id="2231" href="Prelude.Bags.AsLists.html#2231" class="Function">singleton∈ˢ</a> <a id="2243" class="Symbol">:</a> <a id="2245" href="Prelude.Bags.AsLists.html#887" class="Generalizable">x′</a> <a id="2248" href="Prelude.Bags.AsLists.html#1524" class="Function Operator">∈ˢ</a> <a id="2251" href="Prelude.Bags.AsLists.html#2113" class="Function">singleton</a> <a id="2261" href="Prelude.Bags.AsLists.html#885" class="Generalizable">x</a> <a id="2263" href="Prelude.General.html#551" class="Function Operator">↔</a> <a id="2265" href="Prelude.Bags.AsLists.html#887" class="Generalizable">x′</a> <a id="2268" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2270" href="Prelude.Bags.AsLists.html#885" class="Generalizable">x</a>
<a id="2272" href="Prelude.Bags.AsLists.html#2231" class="Function">singleton∈ˢ</a> <a id="2284" class="Symbol">=</a> <a id="2286" class="Symbol">(λ</a> <a id="2289" class="Keyword">where</a> <a id="2295" class="Symbol">(</a><a id="2296" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="2301" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="2305" class="Symbol">)</a> <a id="2307" class="Symbol">→</a> <a id="2309" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="2313" class="Symbol">)</a> <a id="2315" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2317" class="Symbol">(λ</a> <a id="2320" class="Keyword">where</a> <a id="2326" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="2331" class="Symbol">→</a> <a id="2333" href="Data.List.Relation.Unary.Any.html#1219" class="InductiveConstructor">here</a> <a id="2338" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="2342" class="Symbol">)</a>

<a id="2345" class="Comment">-- _++_∶-_ : ∀ (s s′ : Bag) → Disjoint (list s) (list s′) → Bag</a>
<a id="2409" class="Comment">-- (xs ⊣ pxs) ++ (ys ⊣ pys) ∶- dsj =</a>
<a id="2446" class="Comment">--   (xs ++ ys) ⊣ ++⁺ pxs pys dsj</a>

<a id="2481" class="Comment">-- _∪_ _∩_ _─_ : Op₂ Bag</a>
<a id="2506" class="Comment">-- x ∪ y = x ++ y</a>

<a id="2525" class="Comment">-- x ─ y = filter′ (_∉ˢ? y) x</a>
<a id="2555" class="Comment">-- x ∩ y = filter′ (_∈ˢ? y) x</a>
<a id="2585" class="Comment">-- x ∪ y = x ++ (filter′ (_∉ˢ? x) y) ∶- disjoint-─ {xs = list x} {ys = list y}</a>
<a id="2664" class="Comment">--   where</a>
<a id="2675" class="Comment">--     disjoint-─ : Disjoint xs (filter (_∉? xs) ys)</a>
<a id="2728" class="Comment">--     disjoint-─ {xs = xs} {ys = ys} (x∈ , x∈ˢ)</a>
<a id="2777" class="Comment">--       = let _ , x∉ = ∈-filter⁻ (_∉? xs) {xs = ys} x∈ˢ</a>
<a id="2834" class="Comment">--         in  x∉ x∈</a>

<a id="2856" class="Comment">-- ⋃ : (A → Bag) → Bag → Bag</a>
<a id="2885" class="Comment">-- ⋃ f = foldr _∪_ ∅ ∘ map f ∘ list</a>

<a id="2922" class="Comment">-- -- ** relational properties</a>
<a id="2953" class="Comment">-- ∉∅ : ∀ x → ¬ x ∈ˢ ∅</a>
<a id="2976" class="Comment">-- ∉∅ _ ()</a>

<a id="2988" class="Comment">-- ∈-─⁻ : ∀ x xs ys → x ∈ˢ (xs ─ ys) → x ∈ˢ xs</a>
<a id="3035" class="Comment">-- ∈-─⁻ x xs ys x∈ = proj₁ (∈-filter⁻ (_∉ˢ? ys) x∈)</a>

<a id="3088" class="Comment">-- ∈-─⁺ : ∀ x xs ys → x ∈ˢ xs → ¬ x ∈ˢ ys → x ∈ˢ (xs ─ ys)</a>
<a id="3147" class="Comment">-- ∈-─⁺ x xs ys x∈ x∉ = ∈-filter⁺ ((_∉ˢ? ys)) x∈ x∉</a>

<a id="3200" class="Comment">-- ∈-∪⁻ : ∀ x xs ys → x ∈ˢ (xs ∪ ys) → x ∈ˢ xs ⊎ x ∈ˢ ys</a>
<a id="3257" class="Comment">-- ∈-∪⁻ x xs ys x∈ = map₂ (∈-─⁻ x ys xs) (∈-++⁻ {v = x} (list xs) {ys = list (ys ─ xs)} x∈)</a>

<a id="3350" class="Comment">-- ∈-∪⁺ˡ : ∀ x xs ys → x ∈ˢ xs → x ∈ˢ (xs ∪ ys)</a>
<a id="3398" class="Comment">-- ∈-∪⁺ˡ x xs ys x∈ = ∈-++⁺ˡ x∈</a>

<a id="3431" class="Comment">-- ∈-∪⁺ʳ : ∀ x xs ys → x ∈ˢ ys → x ∈ˢ (xs ∪ ys)</a>
<a id="3479" class="Comment">-- ∈-∪⁺ʳ x xs ys x∈ with x ∈ˢ? xs</a>
<a id="3513" class="Comment">-- ... | yes x∈ˢ = ∈-∪⁺ˡ x xs ys x∈ˢ</a>
<a id="3550" class="Comment">-- ... | no  x∉  = ∈-++⁺ʳ (list xs) (∈-filter⁺ (_∉ˢ? xs) x∈ x∉)</a>

<a id="3615" class="Comment">-- ∈-∩⁺ : ∀ x xs ys → x ∈ˢ xs → x ∈ˢ ys → x ∈ˢ (xs ∩ ys)</a>
<a id="3672" class="Comment">-- ∈-∩⁺ _ _ ys = ∈-filter⁺ ((_∈ˢ? ys))</a>

<a id="3712" class="Comment">-- ∈-∩⁻ : ∀ x xs ys → x ∈ˢ (xs ∩ ys) → (x ∈ˢ xs) × (x ∈ˢ ys)</a>
<a id="3773" class="Comment">-- ∈-∩⁻ _ xs ys = ∈-filter⁻ (_∈ˢ? ys) {xs = list xs}</a>

<a id="3827" class="Comment">-- ** derived operations</a>
<a id="3852" class="Symbol">{-#</a> <a id="3856" class="Keyword">TERMINATING</a> <a id="3868" class="Symbol">#-}</a>
<a id="_⊆ˢ_"></a><a id="3872" href="Prelude.Bags.AsLists.html#3872" class="Function Operator">_⊆ˢ_</a> <a id="_⊇ˢ_"></a><a id="3877" href="Prelude.Bags.AsLists.html#3877" class="Function Operator">_⊇ˢ_</a> <a id="_⊈ˢ_"></a><a id="3882" href="Prelude.Bags.AsLists.html#3882" class="Function Operator">_⊈ˢ_</a> <a id="_⊉ˢ_"></a><a id="3887" href="Prelude.Bags.AsLists.html#3887" class="Function Operator">_⊉ˢ_</a> <a id="3892" class="Symbol">:</a> <a id="3894" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="3898" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a> <a id="3902" class="Symbol">_</a>
<a id="3904" class="Comment">-- s ⊆ˢ s′ = list s ⊆ list s′</a>
<a id="3934" class="Symbol">(</a><a id="3935" href="Prelude.Bags.AsLists.html#798" class="InductiveConstructor">mkBag</a> <a id="3941" href="Prelude.Bags.AsLists.html#3941" class="Bound">xs</a><a id="3943" class="Symbol">)</a> <a id="3945" href="Prelude.Bags.AsLists.html#3872" class="Function Operator">⊆ˢ</a> <a id="3948" class="Symbol">(</a><a id="3949" href="Prelude.Bags.AsLists.html#798" class="InductiveConstructor">mkBag</a> <a id="3955" href="Prelude.Bags.AsLists.html#3955" class="Bound">ys</a><a id="3957" class="Symbol">)</a>
  <a id="3961" class="Keyword">with</a> <a id="3966" href="Prelude.Bags.AsLists.html#3941" class="Bound">xs</a>
<a id="3969" class="Symbol">...</a> <a id="3973" class="Symbol">|</a> <a id="3975" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="3978" class="Symbol">=</a> <a id="3980" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
<a id="3982" class="Symbol">...</a> <a id="3986" class="Symbol">|</a> <a id="3988" href="Prelude.Bags.AsLists.html#3988" class="Bound">x</a> <a id="3990" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3992" href="Prelude.Bags.AsLists.html#3992" class="Bound">xs</a> <a id="3995" class="Symbol">=</a>
  <a id="3999" class="Keyword">let</a> <a id="4003" href="Prelude.Bags.AsLists.html#4003" class="Bound">♯x</a>  <a id="4007" class="Symbol">=</a> <a id="4009" class="Number">1</a> <a id="4011" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="4013" href="Prelude.Lists.Count.html#246" class="Function">count</a> <a id="4019" class="Symbol">(</a><a id="4020" href="Prelude.DecEq.Core.html#137" class="Field Operator">_≟</a> <a id="4023" href="Prelude.Bags.AsLists.html#3988" class="Bound">x</a><a id="4024" class="Symbol">)</a> <a id="4026" href="Prelude.Bags.AsLists.html#3992" class="Bound">xs</a>
      <a id="4035" href="Prelude.Bags.AsLists.html#4035" class="Bound">xs′</a> <a id="4039" class="Symbol">=</a> <a id="4041" href="Data.List.Base.html#8092" class="Function">filter</a> <a id="4048" class="Symbol">(</a><a id="4049" href="Relation.Nullary.Negation.Core.html#1355" class="Function">¬?</a> <a id="4052" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4054" class="Symbol">(</a><a id="4055" href="Prelude.DecEq.Core.html#137" class="Field Operator">_≟</a> <a id="4058" href="Prelude.Bags.AsLists.html#3988" class="Bound">x</a><a id="4059" class="Symbol">))</a> <a id="4062" href="Prelude.Bags.AsLists.html#3992" class="Bound">xs</a>
      <a id="4071" href="Prelude.Bags.AsLists.html#4071" class="Bound">♯x′</a> <a id="4075" class="Symbol">=</a> <a id="4077" href="Prelude.Lists.Count.html#246" class="Function">count</a> <a id="4083" class="Symbol">(</a><a id="4084" href="Prelude.DecEq.Core.html#137" class="Field Operator">_≟</a> <a id="4087" href="Prelude.Bags.AsLists.html#3988" class="Bound">x</a><a id="4088" class="Symbol">)</a> <a id="4090" class="Bound">ys</a>
      <a id="4099" href="Prelude.Bags.AsLists.html#4099" class="Bound">ys′</a> <a id="4103" class="Symbol">=</a> <a id="4105" href="Data.List.Base.html#8092" class="Function">filter</a> <a id="4112" class="Symbol">(</a><a id="4113" href="Relation.Nullary.Negation.Core.html#1355" class="Function">¬?</a> <a id="4116" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="4118" class="Symbol">(</a><a id="4119" href="Prelude.DecEq.Core.html#137" class="Field Operator">_≟</a> <a id="4122" href="Prelude.Bags.AsLists.html#3988" class="Bound">x</a><a id="4123" class="Symbol">))</a> <a id="4126" class="Bound">ys</a>
  <a id="4131" class="Keyword">in</a> <a id="4134" class="Symbol">(</a><a id="4135" href="Prelude.Bags.AsLists.html#4003" class="Bound">♯x</a> <a id="4138" href="Prelude.Ord.html#249" class="Field Operator">≤</a> <a id="4140" href="Prelude.Bags.AsLists.html#4071" class="Bound">♯x′</a><a id="4143" class="Symbol">)</a>
   <a id="4148" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="4150" class="Symbol">(</a><a id="4151" href="Prelude.Bags.AsLists.html#798" class="InductiveConstructor">mkBag</a> <a id="4157" href="Prelude.Bags.AsLists.html#4035" class="Bound">xs′</a> <a id="4161" href="Prelude.Bags.AsLists.html#3872" class="Function Operator">⊆ˢ</a> <a id="4164" href="Prelude.Bags.AsLists.html#798" class="InductiveConstructor">mkBag</a> <a id="4170" href="Prelude.Bags.AsLists.html#4099" class="Bound">ys′</a><a id="4173" class="Symbol">)</a>
<a id="4175" href="Prelude.Bags.AsLists.html#4175" class="Bound">s</a> <a id="4177" href="Prelude.Bags.AsLists.html#3877" class="Function Operator">⊇ˢ</a> <a id="4180" href="Prelude.Bags.AsLists.html#4180" class="Bound">s′</a> <a id="4183" class="Symbol">=</a> <a id="4185" href="Prelude.Bags.AsLists.html#4180" class="Bound">s′</a> <a id="4188" href="Prelude.Bags.AsLists.html#3872" class="Function Operator">⊆ˢ</a> <a id="4191" href="Prelude.Bags.AsLists.html#4175" class="Bound">s</a>
<a id="4193" href="Prelude.Bags.AsLists.html#4193" class="Bound">s</a> <a id="4195" href="Prelude.Bags.AsLists.html#3882" class="Function Operator">⊈ˢ</a> <a id="4198" href="Prelude.Bags.AsLists.html#4198" class="Bound">s′</a> <a id="4201" class="Symbol">=</a> <a id="4203" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="4205" href="Prelude.Bags.AsLists.html#4193" class="Bound">s</a> <a id="4207" href="Prelude.Bags.AsLists.html#3872" class="Function Operator">⊆ˢ</a> <a id="4210" href="Prelude.Bags.AsLists.html#4198" class="Bound">s′</a>
<a id="4213" href="Prelude.Bags.AsLists.html#4213" class="Bound">s</a> <a id="4215" href="Prelude.Bags.AsLists.html#3887" class="Function Operator">⊉ˢ</a> <a id="4218" href="Prelude.Bags.AsLists.html#4218" class="Bound">s′</a> <a id="4221" class="Symbol">=</a> <a id="4223" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="4225" href="Prelude.Bags.AsLists.html#4213" class="Bound">s</a> <a id="4227" href="Prelude.Bags.AsLists.html#3877" class="Function Operator">⊇ˢ</a> <a id="4230" href="Prelude.Bags.AsLists.html#4218" class="Bound">s′</a>

<a id="4234" class="Comment">-- _⊆?ˢ_ = Decidable² _⊆ˢ_ ∋ dec²</a>

<a id="4269" class="Comment">-- ⊆ˢ-trans : Transitive _⊆ˢ_</a>
<a id="4299" class="Comment">-- ⊆ˢ-trans ij ji = ji ∘ ij</a>

<a id="4328" class="Comment">-- ** algebraic properties</a>
<a id="_≈ˢ_"></a><a id="4355" href="Prelude.Bags.AsLists.html#4355" class="Function Operator">_≈ˢ_</a> <a id="4360" class="Symbol">:</a> <a id="4362" href="Prelude.Init.html#12110" class="Function">Rel₀</a> <a id="4367" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a>
<a id="4371" href="Prelude.Bags.AsLists.html#4371" class="Bound">s</a> <a id="4373" href="Prelude.Bags.AsLists.html#4355" class="Function Operator">≈ˢ</a> <a id="4376" href="Prelude.Bags.AsLists.html#4376" class="Bound">s′</a> <a id="4379" class="Symbol">=</a> <a id="4381" class="Symbol">(</a><a id="4382" href="Prelude.Bags.AsLists.html#4371" class="Bound">s</a> <a id="4384" href="Prelude.Bags.AsLists.html#3872" class="Function Operator">⊆ˢ</a> <a id="4387" href="Prelude.Bags.AsLists.html#4376" class="Bound">s′</a><a id="4389" class="Symbol">)</a> <a id="4391" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="4393" class="Symbol">(</a><a id="4394" href="Prelude.Bags.AsLists.html#4376" class="Bound">s′</a> <a id="4397" href="Prelude.Bags.AsLists.html#3872" class="Function Operator">⊆ˢ</a> <a id="4400" href="Prelude.Bags.AsLists.html#4371" class="Bound">s</a><a id="4401" class="Symbol">)</a>

<a id="4404" class="Comment">-- _≈?ˢ_ = Decidable² _≈ˢ_ ∋ dec²</a>

<a id="4439" class="Keyword">postulate</a> <a id="≈ˢ-equiv"></a><a id="4449" href="Prelude.Bags.AsLists.html#4449" class="Postulate">≈ˢ-equiv</a> <a id="4458" class="Symbol">:</a> <a id="4460" href="Relation.Binary.Structures.html#1522" class="Record">IsEquivalence</a> <a id="4474" href="Prelude.Bags.AsLists.html#4355" class="Function Operator">_≈ˢ_</a>
<a id="4479" class="Comment">-- ≈ˢ-equiv = record</a>
<a id="4500" class="Comment">--   { refl  = {!λ where refl → ?!}</a>
<a id="4536" class="Comment">--   ; sym   = {!!}</a>
<a id="4556" class="Comment">--   ; trans = {!!}</a>
<a id="4576" class="Comment">--   }</a>
<a id="4583" class="Keyword">open</a> <a id="4588" href="Relation.Binary.Structures.html#1522" class="Module">IsEquivalence</a> <a id="4602" href="Prelude.Bags.AsLists.html#4449" class="Postulate">≈ˢ-equiv</a> <a id="4611" class="Keyword">renaming</a> <a id="4620" class="Symbol">(</a><a id="4621" href="Relation.Binary.Structures.html#1568" class="Field">refl</a> <a id="4626" class="Symbol">to</a> <a id="4629" class="Field">≈ˢ-refl</a><a id="4636" class="Symbol">;</a> <a id="4638" href="Relation.Binary.Structures.html#1594" class="Field">sym</a> <a id="4642" class="Symbol">to</a> <a id="4645" class="Field">≈ˢ-sym</a><a id="4651" class="Symbol">;</a> <a id="4653" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="4659" class="Symbol">to</a> <a id="4662" class="Field">≈ˢ-trans</a><a id="4670" class="Symbol">)</a>

<a id="≈ˢ-setoid"></a><a id="4673" href="Prelude.Bags.AsLists.html#4673" class="Function">≈ˢ-setoid</a> <a id="4683" class="Symbol">:</a> <a id="4685" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="4692" href="Level.html#512" class="Function">0ℓ</a> <a id="4695" href="Level.html#512" class="Function">0ℓ</a>
<a id="4698" href="Prelude.Bags.AsLists.html#4673" class="Function">≈ˢ-setoid</a> <a id="4708" class="Symbol">=</a> <a id="4710" class="Keyword">record</a> <a id="4717" class="Symbol">{</a> <a id="4719" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="4727" class="Symbol">=</a> <a id="4729" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a><a id="4732" class="Symbol">;</a> <a id="4734" href="Relation.Binary.Bundles.html#1098" class="Field Operator">_≈_</a> <a id="4738" class="Symbol">=</a> <a id="4740" href="Prelude.Bags.AsLists.html#4355" class="Function Operator">_≈ˢ_</a><a id="4744" class="Symbol">;</a> <a id="4746" href="Relation.Binary.Bundles.html#1132" class="Field">isEquivalence</a> <a id="4760" class="Symbol">=</a> <a id="4762" href="Prelude.Bags.AsLists.html#4449" class="Postulate">≈ˢ-equiv</a> <a id="4771" class="Symbol">}</a>

<a id="4774" class="Keyword">module</a> <a id="≈ˢ-Reasoning"></a><a id="4781" href="Prelude.Bags.AsLists.html#4781" class="Module">≈ˢ-Reasoning</a> <a id="4794" class="Symbol">=</a> <a id="4796" href="Relation.Binary.Reasoning.Setoid.html" class="Module">BinSetoid</a> <a id="4806" href="Prelude.Bags.AsLists.html#4673" class="Function">≈ˢ-setoid</a>

<a id="4817" class="Keyword">open</a> <a id="4822" href="Prelude.Init.html#10657" class="Module">Alg</a> <a id="4826" href="Prelude.Bags.AsLists.html#4355" class="Function Operator">_≈ˢ_</a>

<a id="4832" class="Keyword">open</a> <a id="4837" class="Keyword">import</a> <a id="4844" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="4859" class="Keyword">instance</a>
  <a id="Setoid-Bag"></a><a id="4870" href="Prelude.Bags.AsLists.html#4870" class="Function">Setoid-Bag</a> <a id="4881" class="Symbol">:</a> <a id="4883" href="Prelude.Setoid.html#128" class="Record">ISetoid</a> <a id="4891" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a>
  <a id="4897" href="Prelude.Bags.AsLists.html#4870" class="Function">Setoid-Bag</a> <a id="4908" class="Symbol">=</a> <a id="4910" class="Symbol">λ</a> <a id="4912" class="Keyword">where</a>
    <a id="4922" class="Symbol">.</a><a id="4923" href="Prelude.Setoid.html#192" class="Field">relℓ</a> <a id="4928" class="Symbol">→</a> <a id="4930" href="Level.html#512" class="Function">0ℓ</a>
    <a id="4937" class="Symbol">.</a><a id="4938" href="Prelude.Setoid.html#210" class="Field Operator">_≈_</a>  <a id="4943" class="Symbol">→</a> <a id="4945" href="Prelude.Bags.AsLists.html#4355" class="Function Operator">_≈ˢ_</a>

  <a id="SetoidLaws-Bag"></a><a id="4953" href="Prelude.Bags.AsLists.html#4953" class="Function">SetoidLaws-Bag</a> <a id="4968" class="Symbol">:</a> <a id="4970" href="Prelude.Setoid.html#534" class="Record">Setoid-Laws</a> <a id="4982" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a>
  <a id="4988" href="Prelude.Bags.AsLists.html#4953" class="Function">SetoidLaws-Bag</a> <a id="5003" class="Symbol">.</a><a id="5004" href="Prelude.Setoid.html#597" class="Field">isEquivalence</a> <a id="5018" class="Symbol">=</a> <a id="5020" href="Prelude.Bags.AsLists.html#4449" class="Postulate">≈ˢ-equiv</a>

<a id="5030" class="Comment">-- ≈ˢ⇒⊆ˢ : s ≈ˢ s′ → s ⊆ˢ s′</a>
<a id="5059" class="Comment">-- ≈ˢ⇒⊆ˢ = proj₁</a>

<a id="5077" class="Comment">-- ≈ˢ⇒⊆ˢ˘ : s ≈ˢ s′ → s′ ⊆ˢ s</a>
<a id="5107" class="Comment">-- ≈ˢ⇒⊆ˢ˘ = proj₂</a>

<a id="5126" class="Comment">-- ∅─-identityʳ : RightIdentity ∅ _─_</a>
<a id="5164" class="Comment">-- ∅─-identityʳ s rewrite L.filter-all (_∉? []) {xs = list s} All∉[] = ≈ˢ-refl {x = s}</a>

<a id="5252" class="Comment">-- ∅∪-identityˡ : LeftIdentity ∅ _∪_</a>
<a id="5289" class="Comment">-- ∅∪-identityˡ xs =</a>
<a id="5310" class="Comment">--   begin ∅ ∪ xs ≈⟨ ≈ˢ-refl {xs ─ ∅} ⟩</a>
<a id="5350" class="Comment">--         xs ─ ∅ ≈⟨ ∅─-identityʳ xs ⟩</a>
<a id="5389" class="Comment">--         xs ∎</a>
<a id="5405" class="Comment">--   where open ≈ˢ-Reasoning</a>

<a id="5435" class="Comment">-- ∩-comm : Commutative _∩_</a>
<a id="5463" class="Comment">-- ∩-comm s s′ = uncurry (∈-∩⁺ _ s′ s) ∘ Product.swap ∘ ∈-∩⁻ _ s s′</a>
<a id="5531" class="Comment">--             , uncurry (∈-∩⁺ _ s s′) ∘ Product.swap ∘ ∈-∩⁻ _ s′ s</a>

<a id="5600" class="Comment">-- ∪-∅ : (Xs ∪ Ys) ≈ˢ ∅ → (Xs ≈ˢ ∅) × (Ys ≈ˢ ∅)</a>
<a id="5648" class="Comment">-- ∪-∅ {Xs}{Ys} p = (≈ˢ⇒⊆ˢ {Xs ∪ Ys}{∅} p ∘ ∈-∪⁺ˡ _ Xs Ys , λ ())</a>
<a id="5714" class="Comment">--                , (≈ˢ⇒⊆ˢ {Xs ∪ Ys}{∅} p ∘ ∈-∪⁺ʳ _ Xs Ys , λ ())</a>

<a id="5781" class="Comment">-- ∪-∅ˡ : (Xs ∪ Ys) ≈ˢ ∅ → Xs ≈ˢ ∅</a>
<a id="5816" class="Comment">-- ∪-∅ˡ {Xs}{Ys} = proj₁ ∘ ∪-∅ {Xs}{Ys}</a>

<a id="5857" class="Comment">-- ∪-∅ʳ : (Xs ∪ Ys) ≈ˢ ∅ → Ys ≈ˢ ∅</a>
<a id="5892" class="Comment">-- ∪-∅ʳ {Xs}{Ys} = proj₂ ∘ ∪-∅ {Xs}{Ys}</a>

<a id="5933" class="Comment">-- ∪-∩ : ((Xs ∪ Ys) ∩ Zs) ≈ˢ ((Xs ∩ Zs) ∪ (Ys ∩ Zs))</a>
<a id="5986" class="Comment">-- ∪-∩ {Xs}{Ys}{Zs} =</a>
<a id="6008" class="Comment">--   (λ x∈ →</a>
<a id="6021" class="Comment">--   let x∈∪ , x∈Zs = ∈-∩⁻ _ (Xs ∪ Ys) Zs x∈</a>
<a id="6066" class="Comment">--   in  case ∈-∪⁻ _ Xs Ys x∈∪ of λ where</a>
<a id="6108" class="Comment">--         (inj₁ x∈Xs) → ∈-∪⁺ˡ _ (Xs ∩ Zs) (Ys ∩ Zs)</a>
<a id="6161" class="Comment">--                               (∈-∩⁺ _ Xs Zs x∈Xs x∈Zs)</a>
<a id="6219" class="Comment">--         (inj₂ x∈Ys) → ∈-∪⁺ʳ _ (Xs ∩ Zs) (Ys ∩ Zs)</a>
<a id="6272" class="Comment">--                               (∈-∩⁺ _ Ys Zs x∈Ys x∈Zs))</a>
<a id="6331" class="Comment">--   , (∈-∪⁻ _ (Xs ∩ Zs) (Ys ∩ Zs) &gt;≡&gt; λ where</a>
<a id="6378" class="Comment">--        (inj₁ x∈) → let x∈Xs , x∈Zs = ∈-∩⁻ _ Xs Zs x∈</a>
<a id="6434" class="Comment">--                    in ∈-∩⁺ _ (Xs ∪ Ys) Zs (∈-∪⁺ˡ _ Xs Ys x∈Xs) x∈Zs</a>
<a id="6505" class="Comment">--        (inj₂ x∈) → let x∈Ys , x∈Zs = ∈-∩⁻ _ Ys Zs x∈</a>
<a id="6561" class="Comment">--                    in ∈-∩⁺ _ (Xs ∪ Ys) Zs (∈-∪⁺ʳ _ Xs Ys x∈Ys) x∈Zs)</a>

<a id="6634" class="Comment">-- ** apartness</a>
<a id="6650" class="Keyword">instance</a>
  <a id="Apart-Bag"></a><a id="6661" href="Prelude.Bags.AsLists.html#6661" class="Function">Apart-Bag</a> <a id="6671" class="Symbol">:</a> <a id="6673" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a> <a id="6677" href="Prelude.Apartness.html#152" class="Record Operator">//</a> <a id="6680" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a>
  <a id="6686" href="Prelude.Bags.AsLists.html#6661" class="Function">Apart-Bag</a> <a id="6696" class="Symbol">.</a><a id="6697" href="Prelude.Apartness.html#237" class="Field Operator">_♯_</a> <a id="6701" href="Prelude.Bags.AsLists.html#6701" class="Bound">s</a> <a id="6703" href="Prelude.Bags.AsLists.html#6703" class="Bound">s′</a> <a id="6706" class="Symbol">=</a> <a id="6708" class="Symbol">∀</a> <a id="6710" class="Symbol">{</a><a id="6711" href="Prelude.Bags.AsLists.html#6711" class="Bound">k</a><a id="6712" class="Symbol">}</a> <a id="6714" class="Symbol">→</a> <a id="6716" href="Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="6718" class="Symbol">(</a><a id="6719" href="Prelude.Bags.AsLists.html#6711" class="Bound">k</a> <a id="6721" href="Prelude.Bags.AsLists.html#1524" class="Function Operator">∈ˢ</a> <a id="6724" href="Prelude.Bags.AsLists.html#6701" class="Bound">s</a> <a id="6726" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6728" href="Prelude.Bags.AsLists.html#6711" class="Bound">k</a> <a id="6730" href="Prelude.Bags.AsLists.html#1524" class="Function Operator">∈ˢ</a> <a id="6733" href="Prelude.Bags.AsLists.html#6703" class="Bound">s′</a><a id="6735" class="Symbol">)</a>

<a id="_♯?ˢ_"></a><a id="6738" href="Prelude.Bags.AsLists.html#6738" class="Function Operator">_♯?ˢ_</a> <a id="6744" class="Symbol">=</a> <a id="6746" href="Relation.Binary.Definitions.html#4575" class="Function">Decidable²</a> <a id="6757" class="Symbol">(</a><a id="6758" href="Prelude.Apartness.html#237" class="Field Operator">_♯_</a> <a id="6762" class="Symbol">{</a><a id="6763" class="Argument">A</a> <a id="6765" class="Symbol">=</a> <a id="6767" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a><a id="6770" class="Symbol">})</a> <a id="6773" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="6775" href="Prelude.Decidable.Base.html#802" class="Function">dec²</a>

<a id="6781" class="Comment">-- ♯-comm : ∀ (x y : Bag) → x ♯ y → y ♯ x</a>
<a id="6823" class="Comment">-- ♯-comm x y = ≈ˢ-trans {i = y ∩ x}{j = x ∩ y}{k = ∅} (∩-comm y x)</a>

<a id="6892" class="Comment">-- ∈-∩⇒¬♯ : x ∈ˢ (Xs ∩ Ys) → ¬ (Xs ♯ Ys)</a>
<a id="6933" class="Comment">-- ∈-∩⇒¬♯ {Xs = Xs}{Ys} x∈ xs♯ys = contradict (≈ˢ⇒⊆ˢ {s = Xs ∩ Ys} {s′ = ∅} xs♯ys x∈)</a>

<a id="7020" class="Comment">-- ♯-skipˡ : ∀ xs ys (zs : Bag) → (xs ∪ ys) ♯ zs → ys ♯ zs</a>
<a id="7079" class="Comment">-- ♯-skipˡ xs ys zs p = ∪-∅ {xs ∩ zs}{ys ∩ zs}</a>
<a id="7126" class="Comment">--   (let open ≈ˢ-Reasoning in</a>
<a id="7157" class="Comment">--    begin</a>
<a id="7169" class="Comment">--     (xs ∩ zs) ∪ (ys ∩ zs)</a>
<a id="7198" class="Comment">--    ≈˘⟨ ∪-∩ {xs}{ys}{zs} ⟩</a>
<a id="7227" class="Comment">--     (xs ∪ ys) ∩ zs</a>
<a id="7249" class="Comment">--    ≈⟨ p ⟩</a>
<a id="7262" class="Comment">--      ∅</a>
<a id="7272" class="Comment">--    ∎)</a>
<a id="7281" class="Comment">--   .proj₂</a>


<a id="7295" class="Comment">-- ** list conversion</a>
<a id="7317" class="Keyword">instance</a>
  <a id="ToList-Bag"></a><a id="7328" href="Prelude.Bags.AsLists.html#7328" class="Function">ToList-Bag</a> <a id="7339" class="Symbol">:</a> <a id="7341" href="Prelude.ToList.html#89" class="Record">ToList</a> <a id="7348" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a> <a id="7352" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a>
  <a id="7356" href="Prelude.Bags.AsLists.html#7328" class="Function">ToList-Bag</a> <a id="7367" class="Symbol">.</a><a id="7368" href="Prelude.ToList.html#151" class="Field">toList</a> <a id="7375" class="Symbol">=</a> <a id="7377" href="Prelude.Bags.AsLists.html#812" class="Field">list</a>

  <a id="FromList-Bag"></a><a id="7385" href="Prelude.Bags.AsLists.html#7385" class="Function">FromList-Bag</a> <a id="7398" class="Symbol">:</a> <a id="7400" href="Prelude.FromList.html#91" class="Record">FromList</a> <a id="7409" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a> <a id="7411" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a>
  <a id="7417" href="Prelude.Bags.AsLists.html#7385" class="Function">FromList-Bag</a> <a id="7430" class="Symbol">.</a><a id="7431" href="Prelude.FromList.html#155" class="Field">fromList</a> <a id="7440" class="Symbol">=</a> <a id="7442" href="Prelude.Bags.AsLists.html#798" class="InductiveConstructor">mkBag</a>

<a id="∈ˢ-fromList"></a><a id="7449" href="Prelude.Bags.AsLists.html#7449" class="Function">∈ˢ-fromList</a> <a id="7461" class="Symbol">:</a> <a id="7463" href="Prelude.Bags.AsLists.html#885" class="Generalizable">x</a> <a id="7465" href="Prelude.Membership.html#379" class="Field Operator">∈</a> <a id="7467" href="Prelude.Bags.AsLists.html#906" class="Generalizable">xs</a> <a id="7470" href="Prelude.General.html#551" class="Function Operator">↔</a> <a id="7472" href="Prelude.Bags.AsLists.html#885" class="Generalizable">x</a> <a id="7474" href="Prelude.Bags.AsLists.html#1524" class="Function Operator">∈ˢ</a> <a id="7477" href="Prelude.FromList.html#155" class="Field">fromList</a> <a id="7486" href="Prelude.Bags.AsLists.html#906" class="Generalizable">xs</a>
<a id="7489" href="Prelude.Bags.AsLists.html#7449" class="Function">∈ˢ-fromList</a> <a id="7501" class="Symbol">=</a> <a id="7503" href="Function.Base.html#615" class="Function">id</a> <a id="7506" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7508" href="Function.Base.html#615" class="Function">id</a>

<a id="7512" class="Comment">-- ** decidability of set equality</a>
<a id="7547" class="Keyword">unquoteDecl</a> <a id="DecEq-Bag"></a><a id="7559" href="Prelude.Bags.AsLists.html#7559" class="Function">DecEq-Bag</a> <a id="7569" class="Symbol">=</a> <a id="7571" href="Prelude.Generics.html#9852" class="Function">DERIVE</a> <a id="7578" href="Prelude.DecEq.Core.html#97" class="Record">DecEq</a> <a id="7584" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="7586" class="Keyword">quote</a> <a id="7592" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a> <a id="7596" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7598" href="Prelude.Bags.AsLists.html#7559" class="Function">DecEq-Bag</a> <a id="7608" href="Data.List.Base.html#5025" class="Function Operator">]</a>
<a id="7610" class="Keyword">instance</a>
  <a id="Measurable-Set"></a><a id="7621" href="Prelude.Bags.AsLists.html#7621" class="Function">Measurable-Set</a> <a id="7636" class="Symbol">:</a> <a id="7638" href="Prelude.Measurable.html#392" class="Record">Measurable</a> <a id="7649" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a>
  <a id="7655" href="Prelude.Bags.AsLists.html#7621" class="Function">Measurable-Set</a> <a id="7670" class="Symbol">=</a> <a id="7672" class="Keyword">record</a> <a id="7679" class="Symbol">{</a><a id="7680" href="Prelude.Measurable.html#445" class="Field Operator">∣_∣</a> <a id="7684" class="Symbol">=</a> <a id="7686" href="Data.List.Base.html#4864" class="Function">length</a> <a id="7693" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="7695" href="Prelude.Bags.AsLists.html#812" class="Field">list</a><a id="7699" class="Symbol">}</a>

<a id="7702" class="Keyword">record</a> <a id="Bag⁺"></a><a id="7709" href="Prelude.Bags.AsLists.html#7709" class="Record">Bag⁺</a> <a id="7714" class="Symbol">:</a> <a id="7716" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="7721" class="Keyword">where</a>
  <a id="7729" class="Keyword">constructor</a> <a id="_⊣_"></a><a id="7741" href="Prelude.Bags.AsLists.html#7741" class="InductiveConstructor Operator">_⊣_</a>
  <a id="7747" class="Keyword">field</a> <a id="Bag⁺.set"></a><a id="7753" href="Prelude.Bags.AsLists.html#7753" class="Field">set</a>   <a id="7759" class="Symbol">:</a> <a id="7761" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a>
        <a id="7773" class="Symbol">.</a><a id="Bag⁺.set⁺"></a><a id="7774" href="Prelude.Bags.AsLists.html#7774" class="Field">set⁺</a> <a id="7779" class="Symbol">:</a> <a id="7781" href="Prelude.Measurable.html#445" class="Field Operator">∣</a> <a id="7783" href="Prelude.Bags.AsLists.html#7753" class="Field">set</a> <a id="7787" href="Prelude.Measurable.html#445" class="Field Operator">∣</a> <a id="7789" href="Prelude.Ord.html#321" class="Function Operator">&gt;</a> <a id="7791" class="Number">0</a>
<a id="7793" class="Keyword">syntax</a> <a id="7800" href="Prelude.Bags.AsLists.html#7709" class="Record">Bag⁺</a> <a id="7805" class="Symbol">{</a>A <a id="7808" class="Symbol">=</a> <a id="7810" class="Bound">A</a><a id="7811" class="Symbol">}</a> <a id="7813" class="Symbol">=</a> <a id="7815" class="Record">Bag⁺⟨</a> <a id="7821" class="Bound">A</a> <a id="7823" class="Record">⟩</a>

<a id="7826" class="Keyword">instance</a>
  <a id="DecEq-Bag⁺"></a><a id="7837" href="Prelude.Bags.AsLists.html#7837" class="Function">DecEq-Bag⁺</a> <a id="7848" class="Symbol">:</a> <a id="7850" href="Prelude.DecEq.Core.html#97" class="Record">DecEq</a> <a id="7856" href="Prelude.Bags.AsLists.html#7709" class="Record">Bag⁺</a>
  <a id="7863" href="Prelude.Bags.AsLists.html#7837" class="Function">DecEq-Bag⁺</a> <a id="7874" class="Symbol">.</a><a id="7875" href="Prelude.DecEq.Core.html#137" class="Field Operator">_≟_</a> <a id="7879" class="Symbol">(</a><a id="7880" href="Prelude.Bags.AsLists.html#7880" class="Bound">s</a> <a id="7882" href="Prelude.Bags.AsLists.html#7741" class="InductiveConstructor Operator">⊣</a> <a id="7884" class="Symbol">_)</a> <a id="7887" class="Symbol">(</a><a id="7888" href="Prelude.Bags.AsLists.html#7888" class="Bound">s′</a> <a id="7891" href="Prelude.Bags.AsLists.html#7741" class="InductiveConstructor Operator">⊣</a> <a id="7893" class="Symbol">_)</a> <a id="7896" class="Keyword">with</a> <a id="7901" href="Prelude.Bags.AsLists.html#7880" class="Bound">s</a> <a id="7903" href="Prelude.DecEq.Core.html#137" class="Field Operator">≟</a> <a id="7905" href="Prelude.Bags.AsLists.html#7888" class="Bound">s′</a>
  <a id="7910" class="Symbol">...</a> <a id="7914" class="Symbol">|</a> <a id="7916" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="7920" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="7925" class="Symbol">=</a> <a id="7927" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="7931" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="7938" class="Symbol">...</a> <a id="7942" class="Symbol">|</a> <a id="7944" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a>  <a id="7948" href="Prelude.Bags.AsLists.html#7948" class="Bound">¬eq</a>  <a id="7953" class="Symbol">=</a> <a id="7955" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="7958" class="Symbol">λ</a> <a id="7960" class="Keyword">where</a> <a id="7966" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="7971" class="Symbol">→</a> <a id="7973" href="Prelude.Bags.AsLists.html#7948" class="Bound">¬eq</a> <a id="7977" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="mkSet⁺"></a><a id="7983" href="Prelude.Bags.AsLists.html#7983" class="Function">mkSet⁺</a> <a id="7990" class="Symbol">:</a> <a id="7992" class="Symbol">(</a><a id="7993" href="Prelude.Bags.AsLists.html#7993" class="Bound">s</a> <a id="7995" class="Symbol">:</a> <a id="7997" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a><a id="8000" class="Symbol">)</a> <a id="8002" class="Symbol">⦃</a> <a id="8004" href="Prelude.Bags.AsLists.html#8004" class="Bound">_</a> <a id="8006" class="Symbol">:</a> <a id="8008" href="Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a> <a id="8013" class="Symbol">(</a><a id="8014" href="Prelude.Measurable.html#445" class="Field Operator">∣</a> <a id="8016" href="Prelude.Bags.AsLists.html#7993" class="Bound">s</a> <a id="8018" href="Prelude.Measurable.html#445" class="Field Operator">∣</a> <a id="8020" href="Prelude.Ord.html#2567" class="Function Operator">&gt;?</a> <a id="8023" class="Number">0</a><a id="8024" class="Symbol">)</a> <a id="8026" class="Symbol">⦄</a> <a id="8028" class="Symbol">→</a> <a id="8030" href="Prelude.Bags.AsLists.html#7709" class="Record">Bag⁺</a>
<a id="8035" href="Prelude.Bags.AsLists.html#7983" class="Function">mkSet⁺</a> <a id="8042" href="Prelude.Bags.AsLists.html#8042" class="Bound">s</a> <a id="8044" class="Symbol">⦃</a> <a id="8046" href="Prelude.Bags.AsLists.html#8046" class="Bound">pr</a> <a id="8049" class="Symbol">⦄</a> <a id="8051" class="Symbol">=</a> <a id="8053" href="Prelude.Bags.AsLists.html#8042" class="Bound">s</a> <a id="8055" href="Prelude.Bags.AsLists.html#7741" class="InductiveConstructor Operator">⊣</a> <a id="8057" href="Relation.Nullary.Decidable.Core.html#1484" class="Function">toWitness</a> <a id="8067" href="Prelude.Bags.AsLists.html#8046" class="Bound">pr</a>

<a id="fromList⁺"></a><a id="8071" href="Prelude.Bags.AsLists.html#8071" class="Function">fromList⁺</a> <a id="8081" class="Symbol">:</a> <a id="8083" class="Symbol">(</a><a id="8084" href="Prelude.Bags.AsLists.html#8084" class="Bound">xs</a> <a id="8087" class="Symbol">:</a> <a id="8089" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="8094" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a><a id="8095" class="Symbol">)</a> <a id="8097" class="Symbol">⦃</a> <a id="8099" href="Prelude.Bags.AsLists.html#8099" class="Bound">_</a> <a id="8101" class="Symbol">:</a> <a id="8103" href="Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a> <a id="8108" class="Symbol">(</a><a id="8109" href="Data.List.Base.html#4864" class="Function">length</a> <a id="8116" href="Prelude.Bags.AsLists.html#8084" class="Bound">xs</a> <a id="8119" href="Prelude.Ord.html#2567" class="Function Operator">&gt;?</a> <a id="8122" class="Number">0</a><a id="8123" class="Symbol">)</a> <a id="8125" class="Symbol">⦄</a> <a id="8127" class="Symbol">→</a> <a id="8129" href="Prelude.Bags.AsLists.html#7709" class="Record">Bag⁺</a>
<a id="8134" href="Prelude.Bags.AsLists.html#8071" class="Function">fromList⁺</a> <a id="8144" class="Symbol">=</a> <a id="8146" href="Prelude.Bags.AsLists.html#7983" class="Function">mkSet⁺</a> <a id="8153" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="8155" href="Prelude.FromList.html#155" class="Field">fromList</a>

<a id="toList&#39;⁺"></a><a id="8165" href="Prelude.Bags.AsLists.html#8165" class="Function">toList&#39;⁺</a> <a id="8174" class="Symbol">:</a> <a id="8176" href="Prelude.Bags.AsLists.html#7709" class="Record">Bag⁺</a> <a id="8181" class="Symbol">→</a> <a id="8183" href="Data.List.NonEmpty.Base.html#1079" class="Record">List⁺</a> <a id="8189" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a>
<a id="8191" href="Prelude.Bags.AsLists.html#8165" class="Function">toList&#39;⁺</a> <a id="8200" class="Symbol">(</a><a id="8201" href="Prelude.Bags.AsLists.html#8201" class="Bound">s</a> <a id="8203" href="Prelude.Bags.AsLists.html#7741" class="InductiveConstructor Operator">⊣</a> <a id="8205" class="Symbol">_)</a> <a id="8208" class="Keyword">with</a> <a id="8213" href="Prelude.Bags.AsLists.html#8213" class="Bound">x</a> <a id="8215" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8217" href="Prelude.Bags.AsLists.html#8217" class="Bound">xs</a> ← <a id="8222" href="Prelude.Bags.AsLists.html#812" class="Field">list</a> <a id="8227" href="Prelude.Bags.AsLists.html#8201" class="Bound">s</a> <a id="8229" class="Symbol">=</a> <a id="8231" href="Prelude.Bags.AsLists.html#8213" class="Bound">x</a> <a id="8233" href="Data.List.NonEmpty.Base.html#1125" class="InductiveConstructor Operator">∷</a> <a id="8235" href="Prelude.Bags.AsLists.html#8217" class="Bound">xs</a>

<a id="8239" class="Keyword">instance</a>
  <a id="Semigroup-Bag"></a><a id="8250" href="Prelude.Bags.AsLists.html#8250" class="Function">Semigroup-Bag</a> <a id="8264" class="Symbol">:</a> <a id="8266" class="Symbol">⦃</a> <a id="8268" href="Prelude.Semigroup.html#94" class="Record">Semigroup</a> <a id="8278" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a> <a id="8280" class="Symbol">⦄</a> <a id="8282" class="Symbol">→</a> <a id="8284" href="Prelude.Semigroup.html#94" class="Record">Semigroup</a> <a id="8294" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a>
  <a id="8300" href="Prelude.Bags.AsLists.html#8250" class="Function">Semigroup-Bag</a> <a id="8314" class="Symbol">.</a><a id="8315" href="Prelude.Semigroup.html#158" class="Field Operator">_◇_</a> <a id="8319" class="Symbol">(</a><a id="8320" href="Prelude.Bags.AsLists.html#798" class="InductiveConstructor">mkBag</a> <a id="8326" href="Prelude.Bags.AsLists.html#8326" class="Bound">xs</a><a id="8328" class="Symbol">)</a> <a id="8330" class="Symbol">(</a><a id="8331" href="Prelude.Bags.AsLists.html#798" class="InductiveConstructor">mkBag</a> <a id="8337" href="Prelude.Bags.AsLists.html#8337" class="Bound">ys</a><a id="8339" class="Symbol">)</a> <a id="8341" class="Symbol">=</a> <a id="8343" href="Prelude.Bags.AsLists.html#798" class="InductiveConstructor">mkBag</a> <a id="8349" class="Symbol">(</a><a id="8350" href="Prelude.Bags.AsLists.html#8326" class="Bound">xs</a> <a id="8353" href="Prelude.Semigroup.html#158" class="Field Operator">◇</a> <a id="8355" href="Prelude.Bags.AsLists.html#8337" class="Bound">ys</a><a id="8357" class="Symbol">)</a>

  <a id="SemigroupLaws-Bag"></a><a id="8362" href="Prelude.Bags.AsLists.html#8362" class="Function">SemigroupLaws-Bag</a> <a id="8380" class="Symbol">:</a> <a id="8382" class="Symbol">⦃</a> <a id="8384" href="Prelude.Bags.AsLists.html#8384" class="Bound">_</a> <a id="8386" class="Symbol">:</a> <a id="8388" href="Prelude.Semigroup.html#94" class="Record">Semigroup</a> <a id="8398" href="Prelude.Bags.AsLists.html#634" class="Bound">A</a> <a id="8400" class="Symbol">⦄</a> <a id="8402" class="Symbol">→</a> <a id="8404" href="Prelude.Semigroup.html#223" class="Record">SemigroupLaws</a> <a id="8418" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a> <a id="8422" href="Prelude.Bags.AsLists.html#4355" class="Function Operator">_≈ˢ_</a>
  <a id="8429" href="Prelude.Bags.AsLists.html#8362" class="Function">SemigroupLaws-Bag</a> <a id="8447" class="Symbol">=</a> <a id="8449" class="Keyword">record</a> <a id="8456" class="Symbol">{</a><a id="8457" href="Prelude.Semigroup.html#465" class="Field">◇-assocʳ</a> <a id="8466" class="Symbol">=</a> <a id="8468" href="Prelude.Bags.AsLists.html#8499" class="Function">p</a><a id="8469" class="Symbol">;</a> <a id="8471" href="Prelude.Semigroup.html#434" class="Field">◇-comm</a> <a id="8478" class="Symbol">=</a> <a id="8480" href="Prelude.Bags.AsLists.html#8635" class="Postulate">q</a><a id="8481" class="Symbol">}</a>
    <a id="8487" class="Keyword">where</a>
      <a id="8499" href="Prelude.Bags.AsLists.html#8499" class="Function">p</a> <a id="8501" class="Symbol">:</a> <a id="8503" href="Algebra.Definitions.html#1108" class="Function">Associative</a> <a id="8515" class="Symbol">(</a><a id="8516" href="Prelude.Semigroup.html#158" class="Field Operator">_◇_</a> <a id="8520" class="Symbol">{</a><a id="8521" class="Argument">A</a> <a id="8523" class="Symbol">=</a> <a id="8525" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a><a id="8528" class="Symbol">})</a>
      <a id="8537" href="Prelude.Bags.AsLists.html#8499" class="Function">p</a> <a id="8539" href="Prelude.Bags.AsLists.html#8539" class="Bound">xs</a> <a id="8542" href="Prelude.Bags.AsLists.html#8542" class="Bound">ys</a> <a id="8545" href="Prelude.Bags.AsLists.html#8545" class="Bound">zs</a> <a id="8548" class="Symbol">=</a> <a id="8550" href="Prelude.Setoid.html#749" class="Function">≈-reflexive</a> <a id="8562" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="8564" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="8569" href="Prelude.Bags.AsLists.html#798" class="InductiveConstructor">mkBag</a> <a id="8575" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="8577" href="Data.List.Properties.html#5425" class="Function">L.++-assoc</a> <a id="8588" class="Symbol">(</a><a id="8589" href="Prelude.Bags.AsLists.html#812" class="Field">list</a> <a id="8594" href="Prelude.Bags.AsLists.html#8539" class="Bound">xs</a><a id="8596" class="Symbol">)</a> <a id="8598" class="Symbol">(</a><a id="8599" href="Prelude.Bags.AsLists.html#812" class="Field">list</a> <a id="8604" href="Prelude.Bags.AsLists.html#8542" class="Bound">ys</a><a id="8606" class="Symbol">)</a> <a id="8608" class="Symbol">(</a><a id="8609" href="Prelude.Bags.AsLists.html#812" class="Field">list</a> <a id="8614" href="Prelude.Bags.AsLists.html#8545" class="Bound">zs</a><a id="8616" class="Symbol">)</a>

      <a id="8625" class="Keyword">postulate</a> <a id="8635" href="Prelude.Bags.AsLists.html#8635" class="Postulate">q</a> <a id="8637" class="Symbol">:</a> <a id="8639" href="Algebra.Definitions.html#1195" class="Function">Commutative</a> <a id="8651" class="Symbol">(</a><a id="8652" href="Prelude.Semigroup.html#158" class="Field Operator">_◇_</a> <a id="8656" class="Symbol">{</a><a id="8657" class="Argument">A</a> <a id="8659" class="Symbol">=</a> <a id="8661" href="Prelude.Bags.AsLists.html#767" class="Record">Bag</a><a id="8664" class="Symbol">})</a>
      <a id="8673" class="Comment">-- q (mkBag []) (mkBag ys) rewrite L.++-identityʳ ys = ≈-refl</a>
      <a id="8741" class="Comment">-- q (mkBag (x ∷ xs)) (mkBag ys) = {!!}</a>
</pre></body></html>