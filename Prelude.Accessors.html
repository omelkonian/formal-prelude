<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Prelude.Accessors</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-prelude/tree/master/Prelude/Accessors.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Prelude.Accessors.html" class="Module">Prelude.Accessors</a> <a id="26" class="Keyword">where</a>

<a id="33" class="Keyword">open</a> <a id="38" class="Keyword">import</a> <a id="45" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="57" class="Symbol">;</a> <a id="59" class="Keyword">open</a> <a id="64" href="Prelude.Init.html#397" class="Module">SetAsType</a>

<a id="75" class="Keyword">variable</a> <a id="84" href="Prelude.Accessors.html#84" class="Generalizable">A</a> <a id="86" href="Prelude.Accessors.html#86" class="Generalizable">B</a> <a id="88" class="Symbol">:</a> <a id="90" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="94" class="Symbol">;</a> <a id="96" href="Prelude.Accessors.html#96" class="Generalizable">n</a> <a id="98" class="Symbol">:</a> <a id="100" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>

<a id="103" class="Comment">-- general indexed version</a>
<a id="130" class="Keyword">record</a> <a id="HasField′"></a><a id="137" href="Prelude.Accessors.html#137" class="Record">HasField′</a> <a id="147" class="Symbol">(</a><a id="148" href="Prelude.Accessors.html#148" class="Bound">A</a> <a id="150" class="Symbol">:</a> <a id="152" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="156" class="Symbol">)</a> <a id="158" class="Symbol">(</a><a id="159" href="Prelude.Accessors.html#159" class="Bound">B</a> <a id="161" class="Symbol">:</a> <a id="163" href="Prelude.Accessors.html#148" class="Bound">A</a> <a id="165" class="Symbol">→</a> <a id="167" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="171" class="Symbol">)</a> <a id="173" class="Symbol">:</a> <a id="175" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="180" class="Keyword">where</a>
  <a id="188" class="Keyword">constructor</a> <a id="mkHasField"></a><a id="200" href="Prelude.Accessors.html#200" class="InductiveConstructor">mkHasField</a>
  <a id="213" class="Keyword">field</a> <a id="HasField′._∙"></a><a id="219" href="Prelude.Accessors.html#219" class="Field Operator">_∙</a> <a id="222" class="Symbol">:</a> <a id="224" class="Symbol">(</a><a id="225" href="Prelude.Accessors.html#225" class="Bound">a</a> <a id="227" class="Symbol">:</a> <a id="229" href="Prelude.Accessors.html#148" class="Bound">A</a><a id="230" class="Symbol">)</a> <a id="232" class="Symbol">→</a> <a id="234" href="Prelude.Accessors.html#159" class="Bound">B</a> <a id="236" href="Prelude.Accessors.html#225" class="Bound">a</a>
<a id="238" class="Keyword">open</a> <a id="243" href="Prelude.Accessors.html#137" class="Module">HasField′</a> <a id="253" class="Symbol">⦃...⦄</a> <a id="259" class="Keyword">public</a>

<a id="267" class="Comment">-- simple non-indexed version</a>
<a id="HasField"></a><a id="297" href="Prelude.Accessors.html#297" class="Function">HasField</a> <a id="306" class="Symbol">:</a> <a id="308" href="Algebra.Core.html#518" class="Function">Op₂</a> <a id="312" href="Agda.Primitive.html#326" class="Primitive">Type</a>
<a id="317" href="Prelude.Accessors.html#297" class="Function">HasField</a> <a id="326" href="Prelude.Accessors.html#326" class="Bound">A</a> <a id="328" href="Prelude.Accessors.html#328" class="Bound">B</a> <a id="330" class="Symbol">=</a> <a id="332" href="Prelude.Accessors.html#137" class="Record">HasField′</a> <a id="342" href="Prelude.Accessors.html#326" class="Bound">A</a> <a id="344" class="Symbol">(</a><a id="345" href="Function.Base.html#636" class="Function">const</a> <a id="351" href="Prelude.Accessors.html#328" class="Bound">B</a><a id="352" class="Symbol">)</a>

<a id="355" class="Comment">-- instance</a>
<a id="367" class="Comment">--   List-num : HasField (List A) ℕ</a>
<a id="403" class="Comment">--   List-num ._∙ = length</a>
<a id="430" class="Comment">-- private _ = [ &quot;single&quot; ] ∙ ≡ 1 ∋ refl</a>

<a id="472" class="Comment">-- Deriving</a>
<a id="AccessorTy"></a><a id="484" href="Prelude.Accessors.html#484" class="Function">AccessorTy</a> <a id="495" class="Symbol">:</a> <a id="497" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="502" class="Symbol">→</a> <a id="504" class="Symbol">(</a><a id="505" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="510" class="Symbol">→</a> <a id="512" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="516" class="Symbol">)</a>
<a id="518" href="Prelude.Accessors.html#484" class="Function">AccessorTy</a> <a id="529" class="Symbol">=</a> <a id="531" href="Function.Base.html#1554" class="Function">flip</a> <a id="536" href="Prelude.Accessors.html#297" class="Function">HasField</a>

<a id="Accessor"></a><a id="546" href="Prelude.Accessors.html#546" class="Function">Accessor</a> <a id="555" class="Symbol">:</a> <a id="557" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="562" class="Symbol">→</a> <a id="564" href="Agda.Primitive.html#326" class="Primitive">Type₁</a>
<a id="570" href="Prelude.Accessors.html#546" class="Function">Accessor</a> <a id="579" href="Prelude.Accessors.html#579" class="Bound">B</a> <a id="581" class="Symbol">=</a> <a id="583" class="Symbol">∀</a> <a id="585" class="Symbol">{</a><a id="586" href="Prelude.Accessors.html#586" class="Bound">A</a><a id="587" class="Symbol">}</a> <a id="589" class="Symbol">→</a> <a id="591" class="Symbol">⦃</a> <a id="593" href="Prelude.Accessors.html#297" class="Function">HasField</a> <a id="602" href="Prelude.Accessors.html#586" class="Bound">A</a> <a id="604" href="Prelude.Accessors.html#579" class="Bound">B</a> <a id="606" class="Symbol">⦄</a> <a id="608" class="Symbol">→</a> <a id="610" href="Prelude.Accessors.html#586" class="Bound">A</a> <a id="612" class="Symbol">→</a> <a id="614" href="Prelude.Accessors.html#579" class="Bound">B</a>

<a id="AccessorBuilder"></a><a id="617" href="Prelude.Accessors.html#617" class="Function">AccessorBuilder</a> <a id="633" class="Symbol">:</a> <a id="635" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="640" class="Symbol">→</a> <a id="642" href="Agda.Primitive.html#326" class="Primitive">Type₁</a>
<a id="648" href="Prelude.Accessors.html#617" class="Function">AccessorBuilder</a> <a id="664" href="Prelude.Accessors.html#664" class="Bound">B</a> <a id="666" class="Symbol">=</a> <a id="668" class="Symbol">∀</a> <a id="670" class="Symbol">{</a><a id="671" href="Prelude.Accessors.html#671" class="Bound">A</a><a id="672" class="Symbol">}</a> <a id="674" class="Symbol">→</a> <a id="676" class="Symbol">(</a><a id="677" href="Prelude.Accessors.html#671" class="Bound">A</a> <a id="679" class="Symbol">→</a> <a id="681" href="Prelude.Accessors.html#664" class="Bound">B</a><a id="682" class="Symbol">)</a> <a id="684" class="Symbol">→</a> <a id="686" href="Prelude.Accessors.html#297" class="Function">HasField</a> <a id="695" href="Prelude.Accessors.html#671" class="Bound">A</a> <a id="697" href="Prelude.Accessors.html#664" class="Bound">B</a>

<a id="700" class="Keyword">open</a> <a id="705" class="Keyword">import</a> <a id="712" href="Prelude.Tactics.html" class="Module">Prelude.Tactics</a>
<a id="728" class="Keyword">open</a> <a id="733" class="Keyword">import</a> <a id="740" href="Prelude.Generics.html" class="Module">Prelude.Generics</a> <a id="757" class="Keyword">hiding</a> <a id="764" class="Symbol">(</a><a id="765" href="Prelude.Generics.html#2671" class="InductiveConstructor Operator">_∙</a><a id="767" class="Symbol">)</a>
<a id="769" class="Keyword">open</a> <a id="774" class="Keyword">import</a> <a id="781" href="Prelude.Monad.html" class="Module">Prelude.Monad</a>
<a id="795" class="Keyword">open</a> <a id="800" href="Prelude.Init.html#11143" class="Module">Meta</a>
<a id="genAccessor"></a><a id="805" href="Prelude.Accessors.html#805" class="Function">genAccessor</a> <a id="817" class="Symbol">:</a> <a id="819" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="824" class="Symbol">→</a> <a id="826" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="831" class="Symbol">→</a> <a id="833" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="838" class="Symbol">→</a> <a id="840" href="Agda.Builtin.Reflection.html#489" class="Postulate">Name</a> <a id="845" class="Symbol">→</a> <a id="847" href="Agda.Builtin.Reflection.html#8218" class="Postulate">TC</a> <a id="850" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
<a id="852" href="Prelude.Accessors.html#805" class="Function">genAccessor</a> <a id="864" href="Prelude.Accessors.html#864" class="Bound">ty</a> <a id="867" href="Prelude.Accessors.html#867" class="Bound">f</a> <a id="869" href="Prelude.Accessors.html#869" class="Bound">mk</a> <a id="872" href="Prelude.Accessors.html#872" class="Bound">B</a> <a id="874" class="Symbol">=</a> <a id="876" class="Keyword">do</a>
  <a id="881" href="Agda.Builtin.Reflection.html#9074" class="Postulate">declareDef</a> <a id="892" class="Symbol">(</a><a id="893" href="Reflection.Argument.html#1209" class="InductiveConstructor">vArg</a> <a id="898" href="Prelude.Accessors.html#864" class="Bound">ty</a><a id="900" class="Symbol">)</a> <a id="902" href="Agda.Builtin.Reflection.html#5246" class="InductiveConstructor">unknown</a>
  <a id="912" href="Agda.Builtin.Reflection.html#9162" class="Postulate">defineFun</a> <a id="922" href="Prelude.Accessors.html#864" class="Bound">ty</a> <a id="925" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="927" href="Prelude.Generics.html#1694" class="InductiveConstructor Operator">⟦⇒</a> <a id="930" class="Keyword">quote</a> <a id="936" href="Prelude.Accessors.html#484" class="Function">AccessorTy</a> <a id="947" href="Prelude.Generics.html#2695" class="InductiveConstructor Operator">∙⟦</a> <a id="950" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="954" href="Prelude.Accessors.html#872" class="Bound">B</a> <a id="956" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="959" href="Prelude.Generics.html#2695" class="InductiveConstructor Operator">⟧</a> <a id="961" href="Prelude.Generics.html#1694" class="InductiveConstructor Operator">⟧</a> <a id="963" href="Data.List.Base.html#5025" class="Function Operator">]</a>
  <a id="967" href="Agda.Builtin.Reflection.html#9074" class="Postulate">declareDef</a> <a id="978" class="Symbol">(</a><a id="979" href="Reflection.Argument.html#1209" class="InductiveConstructor">vArg</a> <a id="984" href="Prelude.Accessors.html#867" class="Bound">f</a><a id="985" class="Symbol">)</a> <a id="987" class="Symbol">(</a><a id="988" class="Keyword">quote</a> <a id="994" href="Prelude.Accessors.html#546" class="Function">Accessor</a> <a id="1003" href="Prelude.Generics.html#2695" class="InductiveConstructor Operator">∙⟦</a> <a id="1006" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="1010" href="Prelude.Accessors.html#872" class="Bound">B</a> <a id="1012" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1015" href="Prelude.Generics.html#2695" class="InductiveConstructor Operator">⟧</a><a id="1016" class="Symbol">)</a>
  <a id="1020" href="Agda.Builtin.Reflection.html#9162" class="Postulate">defineFun</a> <a id="1030" href="Prelude.Accessors.html#867" class="Bound">f</a> <a id="1032" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="1034" href="Prelude.Generics.html#1694" class="InductiveConstructor Operator">⟦⇒</a> <a id="1037" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="1041" class="Symbol">(</a><a id="1042" class="Keyword">quote</a> <a id="1048" href="Prelude.Accessors.html#219" class="Field Operator">_∙</a><a id="1050" class="Symbol">)</a> <a id="1052" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1055" href="Prelude.Generics.html#1694" class="InductiveConstructor Operator">⟧</a> <a id="1057" href="Data.List.Base.html#5025" class="Function Operator">]</a>
  <a id="1061" href="Agda.Builtin.Reflection.html#9074" class="Postulate">declareDef</a> <a id="1072" class="Symbol">(</a><a id="1073" href="Reflection.Argument.html#1209" class="InductiveConstructor">vArg</a> <a id="1078" href="Prelude.Accessors.html#869" class="Bound">mk</a><a id="1080" class="Symbol">)</a> <a id="1082" class="Symbol">(</a><a id="1083" class="Keyword">quote</a> <a id="1089" href="Prelude.Accessors.html#617" class="Function">AccessorBuilder</a> <a id="1105" href="Prelude.Generics.html#2695" class="InductiveConstructor Operator">∙⟦</a> <a id="1108" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="1112" href="Prelude.Accessors.html#872" class="Bound">B</a> <a id="1114" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1117" href="Prelude.Generics.html#2695" class="InductiveConstructor Operator">⟧</a><a id="1118" class="Symbol">)</a>
  <a id="1122" href="Agda.Builtin.Reflection.html#9162" class="Postulate">defineFun</a> <a id="1132" href="Prelude.Accessors.html#869" class="Bound">mk</a> <a id="1135" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="1137" href="Prelude.Generics.html#1694" class="InductiveConstructor Operator">⟦⇒</a> <a id="1140" href="Agda.Builtin.Reflection.html#4846" class="InductiveConstructor">con</a> <a id="1144" class="Symbol">(</a><a id="1145" class="Keyword">quote</a> <a id="1151" href="Prelude.Accessors.html#200" class="InductiveConstructor">mkHasField</a><a id="1161" class="Symbol">)</a> <a id="1163" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1166" href="Prelude.Generics.html#1694" class="InductiveConstructor Operator">⟧</a> <a id="1168" href="Data.List.Base.html#5025" class="Function Operator">]</a>

<a id="1171" class="Comment">-- HasNum = AccessorTy ℕ</a>
<a id="1196" class="Comment">-- _∙num  = Accessor ℕ ∋ _∙</a>
<a id="1224" class="Comment">-- ∙num=  = AccessorBuilder ℕ ∋ mkHasField</a>
<a id="1267" class="Keyword">unquoteDecl</a> <a id="HasNum"></a><a id="1279" href="Prelude.Accessors.html#1279" class="Function">HasNum</a> <a id="_∙num"></a><a id="1286" href="Prelude.Accessors.html#1286" class="Function Operator">_∙num</a> <a id="∙num=_"></a><a id="1292" href="Prelude.Accessors.html#1292" class="Function Operator">∙num=_</a> <a id="1299" class="Symbol">=</a> <a id="1301" href="Prelude.Accessors.html#805" class="Function">genAccessor</a> <a id="1313" href="Prelude.Accessors.html#1279" class="Function">HasNum</a> <a id="1320" href="Prelude.Accessors.html#1286" class="Function Operator">_∙num</a> <a id="1326" href="Prelude.Accessors.html#1292" class="Function Operator">∙num=_</a> <a id="1333" class="Symbol">(</a><a id="1334" class="Keyword">quote</a> <a id="1340" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1341" class="Symbol">)</a>
<a id="1343" class="Keyword">private</a>
  <a id="1353" class="Keyword">instance</a>
    <a id="List-num"></a><a id="1366" href="Prelude.Accessors.html#1366" class="Function">List-num</a> <a id="1375" class="Symbol">:</a> <a id="1377" href="Prelude.Accessors.html#1279" class="Function">HasNum</a> <a id="1384" class="Symbol">(</a><a id="1385" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1390" href="Prelude.Accessors.html#84" class="Generalizable">A</a><a id="1391" class="Symbol">)</a>
    <a id="1397" href="Prelude.Accessors.html#1366" class="Function">List-num</a> <a id="1406" class="Symbol">=</a> <a id="1408" href="Prelude.Accessors.html#1292" class="Function Operator">∙num=</a> <a id="1414" href="Data.List.Base.html#4864" class="Function">length</a>
  <a id="1423" href="Prelude.Accessors.html#1423" class="Function">_</a> <a id="1425" class="Symbol">=</a> <a id="1427" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="1429" class="String">&quot;single&quot;</a> <a id="1438" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="1440" href="Prelude.Accessors.html#219" class="Field Operator">∙</a>    <a id="1445" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1447" class="Number">1</a> <a id="1449" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="1451" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="1458" href="Prelude.Accessors.html#1458" class="Function">_</a> <a id="1460" class="Symbol">=</a> <a id="1462" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="1464" class="String">&quot;single&quot;</a> <a id="1473" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="1475" href="Prelude.Accessors.html#1286" class="Function Operator">∙num</a> <a id="1480" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1482" class="Number">1</a> <a id="1484" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="1486" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="1492" class="Keyword">open</a> <a id="1497" class="Keyword">import</a> <a id="1504" href="Prelude.Show.html" class="Module">Prelude.Show</a>
<a id="1517" class="Keyword">unquoteDecl</a> <a id="HasStr"></a><a id="1529" href="Prelude.Accessors.html#1529" class="Function">HasStr</a> <a id="_∙str"></a><a id="1536" href="Prelude.Accessors.html#1536" class="Function Operator">_∙str</a> <a id="∙str=_"></a><a id="1542" href="Prelude.Accessors.html#1542" class="Function Operator">∙str=_</a> <a id="1549" class="Symbol">=</a> <a id="1551" href="Prelude.Accessors.html#805" class="Function">genAccessor</a> <a id="1563" href="Prelude.Accessors.html#1529" class="Function">HasStr</a> <a id="1570" href="Prelude.Accessors.html#1536" class="Function Operator">_∙str</a> <a id="1576" href="Prelude.Accessors.html#1542" class="Function Operator">∙str=_</a> <a id="1583" class="Symbol">(</a><a id="1584" class="Keyword">quote</a> <a id="1590" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="1596" class="Symbol">)</a>
<a id="1598" class="Keyword">private</a>
  <a id="1608" class="Keyword">instance</a>
    <a id="List-str"></a><a id="1621" href="Prelude.Accessors.html#1621" class="Function">List-str</a> <a id="1630" class="Symbol">:</a> <a id="1632" class="Symbol">⦃</a> <a id="1634" href="Prelude.Show.html#252" class="Record">Show</a> <a id="1639" href="Prelude.Accessors.html#84" class="Generalizable">A</a> <a id="1641" class="Symbol">⦄</a> <a id="1643" class="Symbol">→</a> <a id="1645" href="Prelude.Accessors.html#1529" class="Function">HasStr</a> <a id="1652" class="Symbol">(</a><a id="1653" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1658" href="Prelude.Accessors.html#84" class="Generalizable">A</a><a id="1659" class="Symbol">)</a>
    <a id="1665" href="Prelude.Accessors.html#1621" class="Function">List-str</a> <a id="1674" class="Symbol">=</a> <a id="1676" href="Prelude.Accessors.html#1542" class="Function Operator">∙str=</a> <a id="1682" href="Prelude.Show.html#291" class="Field">show</a>
  <a id="1689" href="Prelude.Accessors.html#1689" class="Function">_</a> <a id="1691" class="Symbol">=</a> <a id="1693" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="1695" class="String">&quot;single&quot;</a> <a id="1704" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="1706" href="Prelude.Accessors.html#219" class="Field Operator">∙</a>    <a id="1711" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1713" class="String">&quot;{single}&quot;</a> <a id="1724" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="1726" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="1733" href="Prelude.Accessors.html#1733" class="Function">_</a> <a id="1735" class="Symbol">=</a> <a id="1737" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="1739" class="String">&quot;single&quot;</a> <a id="1748" href="Data.List.Base.html#5025" class="Function Operator">]</a> <a id="1750" href="Prelude.Accessors.html#1536" class="Function Operator">∙str</a> <a id="1755" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1757" class="String">&quot;{single}&quot;</a> <a id="1768" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="1770" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="1776" class="Comment">--</a>
</pre></body></html>