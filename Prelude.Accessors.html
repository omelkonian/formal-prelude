<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Prelude.Accessors</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-prelude/tree/master/Prelude/Accessors.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Prelude.Accessors.html" class="Module">Prelude.Accessors</a> <a id="49" class="Keyword">where</a>

<a id="56" class="Keyword">open</a> <a id="61" class="Keyword">import</a> <a id="68" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="80" class="Symbol">;</a> <a id="82" class="Keyword">open</a> <a id="87" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="97" class="Keyword">open</a> <a id="102" class="Keyword">import</a> <a id="109" href="Prelude.Monad.html" class="Module">Prelude.Monad</a>
<a id="123" class="Keyword">open</a> <a id="128" class="Keyword">import</a> <a id="135" href="Prelude.Generics.Core.html" class="Module">Prelude.Generics.Core</a> <a id="157" class="Keyword">hiding</a> <a id="164" class="Symbol">(</a><a id="165" href="Prelude.Generics.Core.html#1747" class="InductiveConstructor Operator">_∙</a><a id="167" class="Symbol">)</a>

<a id="170" class="Comment">-- general indexed version</a>
<a id="197" class="Keyword">record</a> <a id="HasField′"></a><a id="204" href="Prelude.Accessors.html#204" class="Record">HasField′</a> <a id="214" class="Symbol">(</a><a id="215" href="Prelude.Accessors.html#215" class="Bound">A</a> <a id="217" class="Symbol">:</a> <a id="219" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="223" class="Symbol">)</a> <a id="225" class="Symbol">(</a><a id="226" href="Prelude.Accessors.html#226" class="Bound">B</a> <a id="228" class="Symbol">:</a> <a id="230" href="Prelude.Accessors.html#215" class="Bound">A</a> <a id="232" class="Symbol">→</a> <a id="234" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="238" class="Symbol">)</a> <a id="240" class="Symbol">:</a> <a id="242" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="247" class="Keyword">where</a>
  <a id="255" class="Keyword">constructor</a> <a id="mkHasField"></a><a id="267" href="Prelude.Accessors.html#267" class="InductiveConstructor">mkHasField</a>
  <a id="280" class="Keyword">field</a> <a id="HasField′._∙"></a><a id="286" href="Prelude.Accessors.html#286" class="Field Operator">_∙</a> <a id="289" class="Symbol">:</a> <a id="291" class="Symbol">(</a><a id="292" href="Prelude.Accessors.html#292" class="Bound">a</a> <a id="294" class="Symbol">:</a> <a id="296" href="Prelude.Accessors.html#215" class="Bound">A</a><a id="297" class="Symbol">)</a> <a id="299" class="Symbol">→</a> <a id="301" href="Prelude.Accessors.html#226" class="Bound">B</a> <a id="303" href="Prelude.Accessors.html#292" class="Bound">a</a>
<a id="305" class="Keyword">open</a> <a id="310" href="Prelude.Accessors.html#204" class="Module">HasField′</a> <a id="320" class="Symbol">⦃...⦄</a> <a id="326" class="Keyword">public</a>

<a id="334" class="Comment">-- simple non-indexed version</a>
<a id="HasField"></a><a id="364" href="Prelude.Accessors.html#364" class="Function">HasField</a> <a id="373" class="Symbol">:</a> <a id="375" href="Algebra.Core.html#527" class="Function">Op₂</a> <a id="379" href="Agda.Primitive.html#320" class="Primitive">Type</a>
<a id="384" href="Prelude.Accessors.html#364" class="Function">HasField</a> <a id="393" href="Prelude.Accessors.html#393" class="Bound">A</a> <a id="395" href="Prelude.Accessors.html#395" class="Bound">B</a> <a id="397" class="Symbol">=</a> <a id="399" href="Prelude.Accessors.html#204" class="Record">HasField′</a> <a id="409" href="Prelude.Accessors.html#393" class="Bound">A</a> <a id="411" class="Symbol">(</a><a id="412" href="Function.Base.html#645" class="Function">const</a> <a id="418" href="Prelude.Accessors.html#395" class="Bound">B</a><a id="419" class="Symbol">)</a>

<a id="422" class="Comment">-- e.g.</a>
<a id="430" class="Comment">-- ```</a>
<a id="437" class="Comment">-- instance</a>
<a id="449" class="Comment">--   List-num : HasField (List A) ℕ</a>
<a id="485" class="Comment">--   List-num ._∙ = length</a>
<a id="512" class="Comment">-- private _ = [ &quot;single&quot; ] ∙ ≡ 1 ∋ refl</a>
<a id="553" class="Comment">-- ```</a>

<a id="561" class="Comment">-- ** deriving</a>

<a id="AccessorTy"></a><a id="577" href="Prelude.Accessors.html#577" class="Function">AccessorTy</a> <a id="588" class="Symbol">:</a> <a id="590" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="595" class="Symbol">→</a> <a id="597" class="Symbol">(</a><a id="598" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="603" class="Symbol">→</a> <a id="605" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="609" class="Symbol">)</a>
<a id="611" href="Prelude.Accessors.html#577" class="Function">AccessorTy</a> <a id="622" class="Symbol">=</a> <a id="624" href="Function.Base.html#1563" class="Function">flip</a> <a id="629" href="Prelude.Accessors.html#364" class="Function">HasField</a>

<a id="Accessor"></a><a id="639" href="Prelude.Accessors.html#639" class="Function">Accessor</a> <a id="648" class="Symbol">:</a> <a id="650" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="655" class="Symbol">→</a> <a id="657" href="Agda.Primitive.html#320" class="Primitive">Type₁</a>
<a id="663" href="Prelude.Accessors.html#639" class="Function">Accessor</a> <a id="672" href="Prelude.Accessors.html#672" class="Bound">B</a> <a id="674" class="Symbol">=</a> <a id="676" class="Symbol">∀</a> <a id="678" class="Symbol">{</a><a id="679" href="Prelude.Accessors.html#679" class="Bound">A</a><a id="680" class="Symbol">}</a> <a id="682" class="Symbol">→</a> <a id="684" class="Symbol">⦃</a> <a id="686" href="Prelude.Accessors.html#364" class="Function">HasField</a> <a id="695" href="Prelude.Accessors.html#679" class="Bound">A</a> <a id="697" href="Prelude.Accessors.html#672" class="Bound">B</a> <a id="699" class="Symbol">⦄</a> <a id="701" class="Symbol">→</a> <a id="703" href="Prelude.Accessors.html#679" class="Bound">A</a> <a id="705" class="Symbol">→</a> <a id="707" href="Prelude.Accessors.html#672" class="Bound">B</a>

<a id="AccessorBuilder"></a><a id="710" href="Prelude.Accessors.html#710" class="Function">AccessorBuilder</a> <a id="726" class="Symbol">:</a> <a id="728" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="733" class="Symbol">→</a> <a id="735" href="Agda.Primitive.html#320" class="Primitive">Type₁</a>
<a id="741" href="Prelude.Accessors.html#710" class="Function">AccessorBuilder</a> <a id="757" href="Prelude.Accessors.html#757" class="Bound">B</a> <a id="759" class="Symbol">=</a> <a id="761" class="Symbol">∀</a> <a id="763" class="Symbol">{</a><a id="764" href="Prelude.Accessors.html#764" class="Bound">A</a><a id="765" class="Symbol">}</a> <a id="767" class="Symbol">→</a> <a id="769" class="Symbol">(</a><a id="770" href="Prelude.Accessors.html#764" class="Bound">A</a> <a id="772" class="Symbol">→</a> <a id="774" href="Prelude.Accessors.html#757" class="Bound">B</a><a id="775" class="Symbol">)</a> <a id="777" class="Symbol">→</a> <a id="779" href="Prelude.Accessors.html#364" class="Function">HasField</a> <a id="788" href="Prelude.Accessors.html#764" class="Bound">A</a> <a id="790" href="Prelude.Accessors.html#757" class="Bound">B</a>

<a id="793" class="Keyword">open</a> <a id="798" href="Prelude.Init.html#12240" class="Module">Meta</a>

<a id="genAccessor"></a><a id="804" href="Prelude.Accessors.html#804" class="Function">genAccessor</a> <a id="816" class="Symbol">:</a> <a id="818" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="823" class="Symbol">→</a> <a id="825" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="830" class="Symbol">→</a> <a id="832" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="837" class="Symbol">→</a> <a id="839" href="Agda.Builtin.Reflection.html#471" class="Postulate">Name</a> <a id="844" class="Symbol">→</a> <a id="846" href="Agda.Builtin.Reflection.html#8279" class="Postulate">TC</a> <a id="849" href="Agda.Builtin.Unit.html#158" class="Record">⊤</a>
<a id="851" href="Prelude.Accessors.html#804" class="Function">genAccessor</a> <a id="863" href="Prelude.Accessors.html#863" class="Bound">ty</a> <a id="866" href="Prelude.Accessors.html#866" class="Bound">f</a> <a id="868" href="Prelude.Accessors.html#868" class="Bound">mk</a> <a id="871" href="Prelude.Accessors.html#871" class="Bound">B</a> <a id="873" class="Symbol">=</a> <a id="875" class="Keyword">do</a>
  <a id="880" href="Agda.Builtin.Reflection.html#9130" class="Postulate">declareDef</a> <a id="891" class="Symbol">(</a><a id="892" href="Reflection.Argument.html#1218" class="InductiveConstructor">vArg</a> <a id="897" href="Prelude.Accessors.html#863" class="Bound">ty</a><a id="899" class="Symbol">)</a> <a id="901" href="Agda.Builtin.Reflection.html#5271" class="InductiveConstructor">unknown</a>
  <a id="911" href="Agda.Builtin.Reflection.html#9326" class="Postulate">defineFun</a> <a id="921" href="Prelude.Accessors.html#863" class="Bound">ty</a> <a id="924" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="926" href="Prelude.Generics.Core.html#603" class="InductiveConstructor Operator">⟦⇒</a> <a id="929" class="Keyword">quote</a> <a id="935" href="Prelude.Accessors.html#577" class="Function">AccessorTy</a> <a id="946" href="Prelude.Generics.Core.html#1771" class="InductiveConstructor Operator">∙⟦</a> <a id="949" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="953" href="Prelude.Accessors.html#871" class="Bound">B</a> <a id="955" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="958" href="Prelude.Generics.Core.html#1771" class="InductiveConstructor Operator">⟧</a> <a id="960" href="Prelude.Generics.Core.html#603" class="InductiveConstructor Operator">⟧</a> <a id="962" href="Data.List.Base.html#5034" class="Function Operator">]</a>
  <a id="966" href="Agda.Builtin.Reflection.html#9130" class="Postulate">declareDef</a> <a id="977" class="Symbol">(</a><a id="978" href="Reflection.Argument.html#1218" class="InductiveConstructor">vArg</a> <a id="983" href="Prelude.Accessors.html#866" class="Bound">f</a><a id="984" class="Symbol">)</a> <a id="986" class="Symbol">(</a><a id="987" class="Keyword">quote</a> <a id="993" href="Prelude.Accessors.html#639" class="Function">Accessor</a> <a id="1002" href="Prelude.Generics.Core.html#1771" class="InductiveConstructor Operator">∙⟦</a> <a id="1005" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="1009" href="Prelude.Accessors.html#871" class="Bound">B</a> <a id="1011" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="1014" href="Prelude.Generics.Core.html#1771" class="InductiveConstructor Operator">⟧</a><a id="1015" class="Symbol">)</a>
  <a id="1019" href="Agda.Builtin.Reflection.html#9326" class="Postulate">defineFun</a> <a id="1029" href="Prelude.Accessors.html#866" class="Bound">f</a> <a id="1031" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="1033" href="Prelude.Generics.Core.html#603" class="InductiveConstructor Operator">⟦⇒</a> <a id="1036" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="1040" class="Symbol">(</a><a id="1041" class="Keyword">quote</a> <a id="1047" href="Prelude.Accessors.html#286" class="Field Operator">_∙</a><a id="1049" class="Symbol">)</a> <a id="1051" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="1054" href="Prelude.Generics.Core.html#603" class="InductiveConstructor Operator">⟧</a> <a id="1056" href="Data.List.Base.html#5034" class="Function Operator">]</a>
  <a id="1060" href="Agda.Builtin.Reflection.html#9130" class="Postulate">declareDef</a> <a id="1071" class="Symbol">(</a><a id="1072" href="Reflection.Argument.html#1218" class="InductiveConstructor">vArg</a> <a id="1077" href="Prelude.Accessors.html#868" class="Bound">mk</a><a id="1079" class="Symbol">)</a> <a id="1081" class="Symbol">(</a><a id="1082" class="Keyword">quote</a> <a id="1088" href="Prelude.Accessors.html#710" class="Function">AccessorBuilder</a> <a id="1104" href="Prelude.Generics.Core.html#1771" class="InductiveConstructor Operator">∙⟦</a> <a id="1107" href="Agda.Builtin.Reflection.html#4928" class="InductiveConstructor">def</a> <a id="1111" href="Prelude.Accessors.html#871" class="Bound">B</a> <a id="1113" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="1116" href="Prelude.Generics.Core.html#1771" class="InductiveConstructor Operator">⟧</a><a id="1117" class="Symbol">)</a>
  <a id="1121" href="Agda.Builtin.Reflection.html#9326" class="Postulate">defineFun</a> <a id="1131" href="Prelude.Accessors.html#868" class="Bound">mk</a> <a id="1134" href="Data.List.Base.html#5034" class="Function Operator">[</a> <a id="1136" href="Prelude.Generics.Core.html#603" class="InductiveConstructor Operator">⟦⇒</a> <a id="1139" href="Agda.Builtin.Reflection.html#4871" class="InductiveConstructor">con</a> <a id="1143" class="Symbol">(</a><a id="1144" class="Keyword">quote</a> <a id="1150" href="Prelude.Accessors.html#267" class="InductiveConstructor">mkHasField</a><a id="1160" class="Symbol">)</a> <a id="1162" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="1165" href="Prelude.Generics.Core.html#603" class="InductiveConstructor Operator">⟧</a> <a id="1167" href="Data.List.Base.html#5034" class="Function Operator">]</a>
<a id="1169" class="Comment">--</a>
</pre></body></html>