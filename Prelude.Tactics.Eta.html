<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Prelude.Tactics.Eta</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">-v</a> <a id="16" class="Pragma">eta:100</a> <a id="24" class="Symbol">#-}</a>
<a id="28" class="Keyword">module</a> <a id="35" href="Prelude.Tactics.Eta.html" class="Module">Prelude.Tactics.Eta</a> <a id="55" class="Keyword">where</a>

<a id="62" class="Keyword">open</a> <a id="67" class="Keyword">import</a> <a id="74" href="Prelude.Init.html" class="Module">Prelude.Init</a>
<a id="87" class="Keyword">open</a> <a id="92" href="Prelude.Init.html#10802" class="Module">Meta</a>
<a id="97" class="Keyword">open</a> <a id="102" class="Keyword">import</a> <a id="109" href="Prelude.Generics.html" class="Module">Prelude.Generics</a>
<a id="126" class="Keyword">open</a> <a id="131" href="Prelude.Generics.html#10126" class="Module">Debug</a> <a id="137" class="Symbol">(</a><a id="138" class="String">&quot;eta&quot;</a> <a id="144" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="146" class="Number">100</a><a id="149" class="Symbol">)</a>
<a id="151" class="Keyword">open</a> <a id="156" class="Keyword">import</a> <a id="163" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="179" class="Keyword">open</a> <a id="184" class="Keyword">import</a> <a id="191" href="Prelude.Monad.html" class="Module">Prelude.Monad</a>
<a id="205" class="Keyword">open</a> <a id="210" class="Keyword">import</a> <a id="217" href="Prelude.Show.html" class="Module">Prelude.Show</a>
<a id="230" class="Keyword">open</a> <a id="235" class="Keyword">import</a> <a id="242" href="Prelude.Semigroup.html" class="Module">Prelude.Semigroup</a>
<a id="260" class="Keyword">open</a> <a id="265" class="Keyword">import</a> <a id="272" href="Prelude.ToN.html" class="Module">Prelude.ToN</a>
<a id="284" class="Keyword">open</a> <a id="289" class="Keyword">import</a> <a id="296" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>

<a id="saturate"></a><a id="311" href="Prelude.Tactics.Eta.html#311" class="Function">saturate</a> <a id="320" class="Symbol">:</a> <a id="322" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="327" class="Symbol">→</a> <a id="329" href="Reflection.Argument.html#1484" class="Function">Args</a> <a id="334" href="Agda.Builtin.Reflection.html#4759" class="Function">Type</a> <a id="339" class="Symbol">→</a> <a id="341" href="Agda.Builtin.Reflection.html#8218" class="Postulate">TC</a> <a id="344" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
<a id="349" href="Prelude.Tactics.Eta.html#311" class="Function">saturate</a> <a id="358" href="Prelude.Tactics.Eta.html#358" class="Bound">f</a> <a id="360" href="Prelude.Tactics.Eta.html#360" class="Bound">as</a> <a id="363" class="Symbol">=</a> <a id="365" href="Function.Base.html#4121" class="Function Operator">case</a> <a id="370" href="Prelude.Tactics.Eta.html#358" class="Bound">f</a> <a id="372" href="Function.Base.html#4121" class="Function Operator">of</a> <a id="375" class="Symbol">λ</a> <a id="377" class="Keyword">where</a>
  <a id="385" class="Symbol">(</a><a id="386" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="390" href="Prelude.Tactics.Eta.html#390" class="Bound">c</a> <a id="392" href="Prelude.Tactics.Eta.html#392" class="Bound">as′</a><a id="395" class="Symbol">)</a> <a id="397" class="Symbol">→</a> <a id="399" href="Prelude.Monad.html#523" class="Field">return</a> <a id="406" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="408" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="412" href="Prelude.Tactics.Eta.html#390" class="Bound">c</a> <a id="414" class="Symbol">(</a><a id="415" href="Prelude.Tactics.Eta.html#392" class="Bound">as′</a> <a id="419" href="Data.List.Base.html#1810" class="Function Operator">++</a> <a id="422" href="Prelude.Tactics.Eta.html#360" class="Bound">as</a><a id="424" class="Symbol">)</a>
  <a id="428" class="CatchallClause Symbol">_</a>           <a id="440" class="Symbol">→</a> <a id="442" href="Prelude.Generics.html#10008" class="Function">error</a> <a id="448" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="450" class="String">&quot;cannot saturate arbitrary expressions, only definitions&quot;</a>

<a id="509" class="Keyword">macro</a>
  <a id="η"></a><a id="517" href="Prelude.Tactics.Eta.html#517" class="Function">η</a> <a id="519" class="Symbol">:</a> <a id="521" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="526" class="Symbol">→</a> <a id="528" href="Prelude.Generics.html#8831" class="Function">Hole</a> <a id="533" class="Symbol">→</a> <a id="535" href="Agda.Builtin.Reflection.html#8218" class="Postulate">TC</a> <a id="538" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="542" href="Prelude.Tactics.Eta.html#517" class="Function">η</a> <a id="544" href="Prelude.Tactics.Eta.html#544" class="Bound">f</a> <a id="546" href="Prelude.Tactics.Eta.html#546" class="Bound">hole</a> <a id="551" class="Symbol">=</a> <a id="553" class="Keyword">do</a>
    <a id="560" href="Prelude.Generics.html#10246" class="Function">print</a> <a id="566" class="String">&quot;*****************************&quot;</a>
    <a id="602" href="Prelude.Generics.html#10246" class="Function">print</a> <a id="608" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="610" class="String">&quot;f: &quot;</a> <a id="616" href="Prelude.Semigroup.html#158" class="Field Operator">◇</a> <a id="618" href="Prelude.Show.html#315" class="Field">show</a> <a id="623" href="Prelude.Tactics.Eta.html#544" class="Bound">f</a>
    <a id="629" href="Prelude.Tactics.Eta.html#629" class="Bound">ty</a> <a id="632" href="Prelude.Monad.html#544" class="Field Operator">←</a> <a id="634" href="Agda.Builtin.Reflection.html#8494" class="Postulate">inferType</a> <a id="644" href="Prelude.Tactics.Eta.html#544" class="Bound">f</a> <a id="646" class="Comment">-- =&lt;&lt; reduce f</a>
    <a id="666" href="Prelude.Generics.html#10246" class="Function">print</a> <a id="672" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="674" class="String">&quot;ty: &quot;</a> <a id="681" href="Prelude.Semigroup.html#158" class="Field Operator">◇</a> <a id="683" href="Prelude.Show.html#315" class="Field">show</a> <a id="688" href="Prelude.Tactics.Eta.html#629" class="Bound">ty</a>
    <a id="695" class="Keyword">let</a> <a id="699" href="Prelude.Tactics.Eta.html#699" class="Bound">as</a> <a id="702" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="704" class="Symbol">_</a> <a id="706" class="Symbol">=</a> <a id="708" href="Prelude.Generics.html#4001" class="Function">viewTy′</a> <a id="716" href="Prelude.Tactics.Eta.html#629" class="Bound">ty</a>
    <a id="723" href="Prelude.Generics.html#10246" class="Function">print</a> <a id="729" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="731" class="String">&quot;as: &quot;</a> <a id="738" href="Prelude.Semigroup.html#158" class="Field Operator">◇</a> <a id="740" href="Prelude.Show.html#315" class="Field">show</a> <a id="745" href="Prelude.Tactics.Eta.html#699" class="Bound">as</a>
    <a id="752" href="Prelude.Tactics.Eta.html#752" class="Bound">f′</a> <a id="755" href="Prelude.Monad.html#544" class="Field Operator">←</a> <a id="757" href="Prelude.Tactics.Eta.html#311" class="Function">saturate</a> <a id="766" href="Prelude.Tactics.Eta.html#544" class="Bound">f</a> <a id="768" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="770" href="Data.List.Base.html#1544" class="Function">map</a> <a id="774" class="Symbol">(λ{</a> <a id="778" class="Symbol">(</a><a id="779" href="Prelude.Tactics.Eta.html#779" class="Bound">n</a> <a id="781" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="783" href="Agda.Builtin.Reflection.html#3733" class="InductiveConstructor">arg</a> <a id="787" href="Prelude.Tactics.Eta.html#787" class="Bound">i</a> <a id="789" class="Symbol">_)</a> <a id="792" class="Symbol">→</a> <a id="794" href="Agda.Builtin.Reflection.html#3733" class="InductiveConstructor">arg</a> <a id="798" href="Prelude.Tactics.Eta.html#787" class="Bound">i</a> <a id="800" class="Symbol">(</a><a id="801" href="Prelude.Generics.html#811" class="InductiveConstructor">♯</a> <a id="803" class="Symbol">(</a><a id="804" href="Data.List.Base.html#4864" class="Function">length</a> <a id="811" href="Prelude.Tactics.Eta.html#699" class="Bound">as</a> <a id="814" href="Data.Nat.Base.html#2874" class="Primitive Operator">∸</a> <a id="816" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="820" class="Symbol">(</a><a id="821" href="Prelude.ToN.html#102" class="Field">toℕ</a> <a id="825" href="Prelude.Tactics.Eta.html#779" class="Bound">n</a><a id="826" class="Symbol">)))})</a> <a id="832" class="Symbol">(</a><a id="833" href="Prelude.Lists.Indexed.html#1540" class="Function">enumerate</a> <a id="843" href="Prelude.Tactics.Eta.html#699" class="Bound">as</a><a id="845" class="Symbol">)</a>
    <a id="851" href="Prelude.Generics.html#10246" class="Function">print</a> <a id="857" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="859" class="String">&quot;f′: &quot;</a> <a id="866" href="Prelude.Semigroup.html#158" class="Field Operator">◇</a> <a id="868" href="Prelude.Show.html#315" class="Field">show</a> <a id="873" href="Prelude.Tactics.Eta.html#752" class="Bound">f′</a>
    <a id="880" href="Agda.Builtin.Reflection.html#8391" class="Postulate">unify</a> <a id="886" href="Prelude.Tactics.Eta.html#546" class="Bound">hole</a> <a id="891" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="893" href="Data.List.Base.html#4192" class="Function">foldr</a> <a id="899" class="Symbol">(λ</a> <a id="902" href="Prelude.Tactics.Eta.html#902" class="Bound">x</a> <a id="904" href="Prelude.Tactics.Eta.html#904" class="Bound">t</a> <a id="906" class="Symbol">→</a> <a id="908" href="Reflection.Term.html#1843" class="InductiveConstructor Operator">Π[</a> <a id="911" class="String">&quot;_&quot;</a> <a id="915" href="Reflection.Term.html#1843" class="InductiveConstructor Operator">∶</a> <a id="917" href="Prelude.Tactics.Eta.html#902" class="Bound">x</a> <a id="919" href="Reflection.Term.html#1843" class="InductiveConstructor Operator">]</a> <a id="921" href="Prelude.Tactics.Eta.html#904" class="Bound">t</a><a id="922" class="Symbol">)</a> <a id="924" href="Prelude.Tactics.Eta.html#752" class="Bound">f′</a> <a id="927" href="Prelude.Tactics.Eta.html#699" class="Bound">as</a>

<a id="931" class="Keyword">private</a>
  <a id="p"></a><a id="941" href="Prelude.Tactics.Eta.html#941" class="Function">p</a> <a id="943" class="Symbol">:</a> <a id="945" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="951" href="Prelude.Tactics.Eta.html#941" class="Function">p</a> <a id="953" class="Symbol">=</a> <a id="955" class="Symbol">∀</a> <a id="957" class="Symbol">{</a><a id="958" href="Prelude.Tactics.Eta.html#958" class="Bound">n</a><a id="959" class="Symbol">}</a> <a id="961" class="Symbol">→</a> <a id="963" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="967" href="Prelude.Tactics.Eta.html#958" class="Bound">n</a>

  <a id="∀p"></a><a id="972" href="Prelude.Tactics.Eta.html#972" class="Function">∀p</a> <a id="975" class="Symbol">:</a> <a id="977" class="Symbol">∀</a> <a id="979" class="Symbol">{</a><a id="980" href="Prelude.Tactics.Eta.html#980" class="Bound">n</a><a id="981" class="Symbol">}</a> <a id="983" class="Symbol">→</a> <a id="985" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="991" href="Prelude.Tactics.Eta.html#972" class="Function">∀p</a> <a id="994" class="Symbol">{</a><a id="995" href="Prelude.Tactics.Eta.html#995" class="Bound">n</a><a id="996" class="Symbol">}</a> <a id="998" class="Symbol">=</a> <a id="1000" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="1004" href="Prelude.Tactics.Eta.html#995" class="Bound">n</a>

  <a id="1009" href="Prelude.Tactics.Eta.html#1009" class="Function">_</a> <a id="1011" class="Symbol">:</a> <a id="1013" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="1019" class="Symbol">_</a> <a id="1021" class="Symbol">=</a> <a id="1023" href="Prelude.Tactics.Eta.html#517" class="Macro">η</a> <a id="1025" href="Prelude.Tactics.Eta.html#972" class="Function">∀p</a>

  <a id="∀kp"></a><a id="1031" href="Prelude.Tactics.Eta.html#1031" class="Function">∀kp</a> <a id="1035" class="Symbol">:</a> <a id="1037" class="Symbol">∀</a> <a id="1039" class="Symbol">(</a><a id="1040" href="Prelude.Tactics.Eta.html#1040" class="Bound">m</a> <a id="1042" class="Symbol">:</a> <a id="1044" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1045" class="Symbol">)</a> <a id="1047" class="Symbol">{</a><a id="1048" href="Prelude.Tactics.Eta.html#1048" class="Bound">n</a><a id="1049" class="Symbol">}</a> <a id="1051" class="Symbol">→</a> <a id="1053" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="1059" href="Prelude.Tactics.Eta.html#1031" class="Function">∀kp</a> <a id="1063" class="Symbol">_</a> <a id="1065" class="Symbol">{</a><a id="1066" href="Prelude.Tactics.Eta.html#1066" class="Bound">n</a><a id="1067" class="Symbol">}</a> <a id="1069" class="Symbol">=</a> <a id="1071" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="1075" href="Prelude.Tactics.Eta.html#1066" class="Bound">n</a>

  <a id="1080" href="Prelude.Tactics.Eta.html#1080" class="Function">_</a> <a id="1082" class="Symbol">:</a> <a id="1084" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="1090" class="Symbol">_</a> <a id="1092" class="Symbol">=</a> <a id="1094" href="Prelude.Tactics.Eta.html#517" class="Macro">η</a> <a id="1096" class="Symbol">(</a><a id="1097" href="Prelude.Tactics.Eta.html#1031" class="Function">∀kp</a> <a id="1101" class="Number">0</a><a id="1102" class="Symbol">)</a>

  <a id="∀k2p"></a><a id="1107" href="Prelude.Tactics.Eta.html#1107" class="Function">∀k2p</a> <a id="1112" class="Symbol">:</a> <a id="1114" class="Symbol">∀</a> <a id="1116" class="Symbol">(</a><a id="1117" href="Prelude.Tactics.Eta.html#1117" class="Bound">m</a> <a id="1119" class="Symbol">:</a> <a id="1121" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1122" class="Symbol">)</a> <a id="1124" class="Symbol">{</a><a id="1125" href="Prelude.Tactics.Eta.html#1125" class="Bound">k</a> <a id="1127" class="Symbol">:</a> <a id="1129" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1130" class="Symbol">}</a> <a id="1132" class="Symbol">{</a><a id="1133" href="Prelude.Tactics.Eta.html#1133" class="Bound">n</a><a id="1134" class="Symbol">}</a> <a id="1136" class="Symbol">→</a> <a id="1138" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="1144" href="Prelude.Tactics.Eta.html#1107" class="Function">∀k2p</a> <a id="1149" class="Symbol">_</a> <a id="1151" class="Symbol">{</a><a id="1152" class="Argument">n</a> <a id="1154" class="Symbol">=</a> <a id="1156" href="Prelude.Tactics.Eta.html#1156" class="Bound">n</a><a id="1157" class="Symbol">}</a> <a id="1159" class="Symbol">=</a> <a id="1161" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="1165" href="Prelude.Tactics.Eta.html#1156" class="Bound">n</a>

  <a id="1170" href="Prelude.Tactics.Eta.html#1170" class="Function">_</a> <a id="1172" class="Symbol">:</a> <a id="1174" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="1180" class="Symbol">_</a> <a id="1182" class="Symbol">=</a> <a id="1184" href="Prelude.Tactics.Eta.html#517" class="Macro">η</a> <a id="1186" class="Symbol">(</a><a id="1187" href="Prelude.Tactics.Eta.html#1107" class="Function">∀k2p</a> <a id="1192" class="Number">0</a> <a id="1194" class="Symbol">{</a><a id="1195" class="Number">1</a><a id="1196" class="Symbol">})</a>
</pre></body></html>