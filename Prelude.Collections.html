<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Prelude.Collections</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Prelude.Collections.html" class="Module">Prelude.Collections</a> <a id="28" class="Keyword">where</a>

<a id="35" class="Keyword">open</a> <a id="40" class="Keyword">import</a> <a id="47" href="Prelude.Init.html" class="Module">Prelude.Init</a>
<a id="60" class="Keyword">open</a> <a id="65" class="Keyword">import</a> <a id="72" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="88" class="Keyword">open</a> <a id="93" class="Keyword">import</a> <a id="100" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>

<a id="115" class="Keyword">record</a> <a id="_has_"></a><a id="122" href="Prelude.Collections.html#122" class="Record Operator">_has_</a> <a id="128" class="Symbol">(</a><a id="129" href="Prelude.Collections.html#129" class="Bound">A</a> <a id="131" class="Symbol">:</a> <a id="133" class="PrimitiveType">Set</a><a id="136" class="Symbol">)</a> <a id="138" class="Symbol">(</a><a id="139" href="Prelude.Collections.html#139" class="Bound">B</a> <a id="141" class="Symbol">:</a> <a id="143" class="PrimitiveType">Set</a><a id="146" class="Symbol">)</a> <a id="148" class="Symbol">:</a> <a id="150" class="PrimitiveType">Set</a> <a id="154" class="Keyword">where</a>
  <a id="162" class="Keyword">field</a> <a id="_has_.collect"></a><a id="168" href="Prelude.Collections.html#168" class="Field">collect</a> <a id="176" class="Symbol">:</a> <a id="178" href="Prelude.Collections.html#129" class="Bound">A</a> <a id="180" class="Symbol">→</a> <a id="182" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="187" href="Prelude.Collections.html#139" class="Bound">B</a>
  <a id="191" class="Keyword">syntax</a> <a id="198" href="Prelude.Collections.html#168" class="Field">collect</a> <a id="206" class="Symbol">{</a>A <a id="209" class="Symbol">=</a> <a id="211" class="Bound">A</a><a id="212" class="Symbol">}</a> <a id="214" class="Symbol">=</a> <a id="216" class="Field">collect[</a> <a id="225" class="Bound">A</a> <a id="227" class="Field">]</a>
<a id="229" class="Keyword">open</a> <a id="234" href="Prelude.Collections.html#122" class="Module Operator">_has_</a> <a id="240" class="Symbol">⦃...⦄</a> <a id="246" class="Keyword">public</a>

<a id="254" class="Comment">-- NB: do not expose list/pair instances, let user decide</a>
<a id="312" class="Keyword">private</a> <a id="320" class="Keyword">variable</a> <a id="329" href="Prelude.Collections.html#329" class="Generalizable">X</a> <a id="331" href="Prelude.Collections.html#331" class="Generalizable">Y</a> <a id="333" href="Prelude.Collections.html#333" class="Generalizable">Z</a> <a id="335" class="Symbol">:</a> <a id="337" class="PrimitiveType">Set</a>

<a id="collectFromList"></a><a id="342" href="Prelude.Collections.html#342" class="Function">collectFromList</a> <a id="358" class="Symbol">:</a> <a id="360" class="Symbol">⦃</a> <a id="362" href="Prelude.Collections.html#329" class="Generalizable">X</a> <a id="364" href="Prelude.Collections.html#122" class="Record Operator">has</a> <a id="368" href="Prelude.Collections.html#331" class="Generalizable">Y</a> <a id="370" class="Symbol">⦄</a> <a id="372" class="Symbol">→</a> <a id="374" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="379" href="Prelude.Collections.html#329" class="Generalizable">X</a> <a id="381" href="Prelude.Collections.html#122" class="Record Operator">has</a> <a id="385" href="Prelude.Collections.html#331" class="Generalizable">Y</a>
<a id="387" href="Prelude.Collections.html#342" class="Function">collectFromList</a> <a id="403" class="Symbol">.</a><a id="404" href="Prelude.Collections.html#168" class="Field">collect</a> <a id="412" class="Symbol">=</a> <a id="414" href="Data.List.Base.html#4450" class="Function">concatMap</a> <a id="424" href="Prelude.Collections.html#168" class="Field">collect</a>
<a id="432" class="Comment">-- collectFromList .collect = go</a>
<a id="465" class="Comment">--   where</a>
<a id="476" class="Comment">--     go : ⦃ _ : X has Y ⦄ → List X → List Y</a>
<a id="522" class="Comment">--     go []       = []</a>
<a id="546" class="Comment">--     go (x ∷ xs) = collect x ++ go xs</a>

<a id="collectFromPairˡ"></a><a id="587" href="Prelude.Collections.html#587" class="Function">collectFromPairˡ</a> <a id="604" class="Symbol">:</a> <a id="606" class="Symbol">⦃</a> <a id="608" href="Prelude.Collections.html#329" class="Generalizable">X</a> <a id="610" href="Prelude.Collections.html#122" class="Record Operator">has</a> <a id="614" href="Prelude.Collections.html#333" class="Generalizable">Z</a> <a id="616" class="Symbol">⦄</a> <a id="618" class="Symbol">→</a> <a id="620" class="Symbol">(</a><a id="621" href="Prelude.Collections.html#329" class="Generalizable">X</a> <a id="623" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="625" href="Prelude.Collections.html#331" class="Generalizable">Y</a><a id="626" class="Symbol">)</a> <a id="628" href="Prelude.Collections.html#122" class="Record Operator">has</a> <a id="632" href="Prelude.Collections.html#333" class="Generalizable">Z</a>
<a id="634" href="Prelude.Collections.html#587" class="Function">collectFromPairˡ</a> <a id="651" class="Symbol">.</a><a id="652" href="Prelude.Collections.html#168" class="Field">collect</a> <a id="660" class="Symbol">(</a><a id="661" href="Prelude.Collections.html#661" class="Bound">x</a> <a id="663" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="665" class="Symbol">_)</a> <a id="668" class="Symbol">=</a> <a id="670" href="Prelude.Collections.html#168" class="Field">collect</a> <a id="678" href="Prelude.Collections.html#661" class="Bound">x</a>

<a id="collectFromPairʳ"></a><a id="681" href="Prelude.Collections.html#681" class="Function">collectFromPairʳ</a> <a id="698" class="Symbol">:</a> <a id="700" class="Symbol">⦃</a> <a id="702" href="Prelude.Collections.html#331" class="Generalizable">Y</a> <a id="704" href="Prelude.Collections.html#122" class="Record Operator">has</a> <a id="708" href="Prelude.Collections.html#333" class="Generalizable">Z</a> <a id="710" class="Symbol">⦄</a> <a id="712" class="Symbol">→</a> <a id="714" class="Symbol">(</a><a id="715" href="Prelude.Collections.html#329" class="Generalizable">X</a> <a id="717" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="719" href="Prelude.Collections.html#331" class="Generalizable">Y</a><a id="720" class="Symbol">)</a> <a id="722" href="Prelude.Collections.html#122" class="Record Operator">has</a> <a id="726" href="Prelude.Collections.html#333" class="Generalizable">Z</a>
<a id="728" href="Prelude.Collections.html#681" class="Function">collectFromPairʳ</a> <a id="745" class="Symbol">.</a><a id="746" href="Prelude.Collections.html#168" class="Field">collect</a> <a id="754" class="Symbol">(_</a> <a id="757" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="759" href="Prelude.Collections.html#759" class="Bound">y</a><a id="760" class="Symbol">)</a> <a id="762" class="Symbol">=</a> <a id="764" href="Prelude.Collections.html#168" class="Field">collect</a> <a id="772" href="Prelude.Collections.html#759" class="Bound">y</a>

<a id="775" class="Comment">--</a>

<a id="relateOn"></a><a id="779" href="Prelude.Collections.html#779" class="Function">relateOn</a> <a id="788" class="Symbol">:</a> <a id="790" class="Symbol">∀</a> <a id="792" class="Symbol">{</a><a id="793" href="Prelude.Collections.html#793" class="Bound">ℓ</a><a id="794" class="Symbol">}</a> <a id="796" class="Symbol">{</a><a id="797" href="Prelude.Collections.html#797" class="Bound">Z</a> <a id="799" href="Prelude.Collections.html#799" class="Bound">A</a> <a id="801" href="Prelude.Collections.html#801" class="Bound">B</a> <a id="803" class="Symbol">:</a> <a id="805" class="PrimitiveType">Set</a><a id="808" class="Symbol">}</a> <a id="810" class="Symbol">{</a><a id="811" href="Prelude.Collections.html#811" class="Bound">Z′</a> <a id="814" class="Symbol">:</a> <a id="816" class="PrimitiveType">Set</a> <a id="820" href="Prelude.Collections.html#793" class="Bound">ℓ</a><a id="821" class="Symbol">}</a> <a id="823" class="Symbol">→</a> <a id="825" class="Symbol">⦃</a> <a id="827" href="Prelude.Collections.html#799" class="Bound">A</a> <a id="829" href="Prelude.Collections.html#122" class="Record Operator">has</a> <a id="833" href="Prelude.Collections.html#797" class="Bound">Z</a> <a id="835" class="Symbol">⦄</a> <a id="837" class="Symbol">→</a> <a id="839" class="Symbol">⦃</a> <a id="841" href="Prelude.Collections.html#801" class="Bound">B</a> <a id="843" href="Prelude.Collections.html#122" class="Record Operator">has</a> <a id="847" href="Prelude.Collections.html#797" class="Bound">Z</a> <a id="849" class="Symbol">⦄</a>
  <a id="853" class="Symbol">→</a> <a id="855" href="Prelude.Init.html#9633" class="Function">Rel₀</a> <a id="860" href="Prelude.Collections.html#811" class="Bound">Z′</a>
  <a id="865" class="Symbol">→</a> <a id="867" href="Prelude.Collections.html#799" class="Bound">A</a>
  <a id="871" class="Symbol">→</a> <a id="873" class="Symbol">(∀</a> <a id="876" class="Symbol">{</a><a id="877" href="Prelude.Collections.html#877" class="Bound">X</a><a id="878" class="Symbol">}</a> <a id="880" class="Symbol">→</a> <a id="882" class="Symbol">⦃</a> <a id="884" href="Prelude.Collections.html#877" class="Bound">X</a> <a id="886" href="Prelude.Collections.html#122" class="Record Operator">has</a> <a id="890" href="Prelude.Collections.html#797" class="Bound">Z</a> <a id="892" class="Symbol">⦄</a> <a id="894" class="Symbol">→</a> <a id="896" href="Prelude.Collections.html#877" class="Bound">X</a> <a id="898" class="Symbol">→</a> <a id="900" href="Prelude.Collections.html#811" class="Bound">Z′</a><a id="902" class="Symbol">)</a>
  <a id="906" class="Symbol">→</a> <a id="908" href="Prelude.Collections.html#801" class="Bound">B</a> <a id="910" class="Symbol">→</a> <a id="912" class="PrimitiveType">Set</a>
<a id="916" href="Prelude.Collections.html#779" class="Function">relateOn</a> <a id="925" href="Prelude.Collections.html#925" class="Bound Operator">_~_</a> <a id="929" href="Prelude.Collections.html#929" class="Bound">a</a> <a id="931" href="Prelude.Collections.html#931" class="Bound">f</a> <a id="933" href="Prelude.Collections.html#933" class="Bound">b</a> <a id="935" class="Symbol">=</a> <a id="937" href="Prelude.Collections.html#931" class="Bound">f</a> <a id="939" href="Prelude.Collections.html#929" class="Bound">a</a> <a id="941" href="Prelude.Collections.html#925" class="Bound Operator">~</a> <a id="943" href="Prelude.Collections.html#931" class="Bound">f</a> <a id="945" href="Prelude.Collections.html#933" class="Bound">b</a>
<a id="947" class="Keyword">syntax</a> <a id="954" href="Prelude.Collections.html#779" class="Function">relateOn</a> <a id="963" class="Bound">_~_</a> <a id="967" class="Bound">a</a> <a id="969" class="Bound">f</a> <a id="971" class="Bound">b</a> <a id="973" class="Symbol">=</a> <a id="975" class="Bound">a</a> <a id="977" class="Function">⦅</a> <a id="979" class="Bound">_~_</a> <a id="983" class="Function">on</a> <a id="986" class="Bound">f</a> <a id="988" class="Function">⦆</a> <a id="990" class="Bound">b</a>

<a id="993" class="Keyword">module</a> <a id="1000" href="Prelude.Collections.html#1000" class="Module">_</a> <a id="1002" class="Symbol">{</a><a id="1003" href="Prelude.Collections.html#1003" class="Bound">Z</a><a id="1004" class="Symbol">}{</a><a id="1006" href="Prelude.Collections.html#1006" class="Bound">A</a><a id="1007" class="Symbol">}{</a><a id="1009" href="Prelude.Collections.html#1009" class="Bound">B</a><a id="1010" class="Symbol">}⦃</a> <a id="1013" href="Prelude.Collections.html#1013" class="Bound">ia</a> <a id="1016" class="Symbol">⦄</a> <a id="1018" class="Symbol">⦃</a> <a id="1020" href="Prelude.Collections.html#1020" class="Bound">ib</a> <a id="1023" class="Symbol">⦄</a> <a id="1025" class="Keyword">where</a>
  <a id="1033" href="Prelude.Collections.html#1033" class="Function Operator">_→⦅_⦆_</a> <a id="1040" class="Symbol">=</a> <a id="1042" href="Prelude.Collections.html#779" class="Function">relateOn</a> <a id="1051" class="Symbol">{</a><a id="1052" class="Argument">Z</a> <a id="1054" class="Symbol">=</a> <a id="1056" href="Prelude.Collections.html#1003" class="Bound">Z</a><a id="1057" class="Symbol">}{</a><a id="1059" href="Prelude.Collections.html#1006" class="Bound">A</a><a id="1060" class="Symbol">}{</a><a id="1062" href="Prelude.Collections.html#1009" class="Bound">B</a><a id="1063" class="Symbol">}{</a><a id="1065" class="PrimitiveType">Set</a><a id="1068" class="Symbol">}⦃</a> <a id="1071" href="Prelude.Collections.html#1013" class="Bound">ia</a> <a id="1074" class="Symbol">⦄</a> <a id="1076" class="Symbol">⦃</a> <a id="1078" href="Prelude.Collections.html#1020" class="Bound">ib</a> <a id="1081" class="Symbol">⦄</a> <a id="1083" href="Prelude.General.html#504" class="Function Operator">_`→`_</a>
  <a id="1091" class="Keyword">module</a> <a id="1098" href="Prelude.Collections.html#1098" class="Module">_</a> <a id="1100" class="Symbol">{</a><a id="1101" href="Prelude.Collections.html#1101" class="Bound">Z′</a><a id="1103" class="Symbol">}</a> <a id="1105" class="Keyword">where</a>
    <a id="1115" href="Prelude.Collections.html#1115" class="Function Operator">_≡⦅_⦆_</a> <a id="1122" class="Symbol">=</a> <a id="1124" href="Prelude.Collections.html#779" class="Function">relateOn</a> <a id="1133" class="Symbol">{</a><a id="1134" class="Argument">Z</a> <a id="1136" class="Symbol">=</a> <a id="1138" href="Prelude.Collections.html#1003" class="Bound">Z</a><a id="1139" class="Symbol">}{</a><a id="1141" href="Prelude.Collections.html#1006" class="Bound">A</a><a id="1142" class="Symbol">}{</a><a id="1144" href="Prelude.Collections.html#1009" class="Bound">B</a><a id="1145" class="Symbol">}{</a><a id="1147" href="Prelude.Collections.html#1101" class="Bound">Z′</a><a id="1149" class="Symbol">}⦃</a> <a id="1152" href="Prelude.Collections.html#1013" class="Bound">ia</a> <a id="1155" class="Symbol">⦄</a> <a id="1157" class="Symbol">⦃</a> <a id="1159" href="Prelude.Collections.html#1020" class="Bound">ib</a> <a id="1162" class="Symbol">⦄</a> <a id="1164" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a>
    <a id="1172" href="Prelude.Collections.html#1172" class="Function Operator">_↭⦅_⦆_</a> <a id="1179" class="Symbol">=</a> <a id="1181" href="Prelude.Collections.html#779" class="Function">relateOn</a> <a id="1190" class="Symbol">{</a><a id="1191" class="Argument">Z</a> <a id="1193" class="Symbol">=</a> <a id="1195" href="Prelude.Collections.html#1003" class="Bound">Z</a><a id="1196" class="Symbol">}{</a><a id="1198" href="Prelude.Collections.html#1006" class="Bound">A</a><a id="1199" class="Symbol">}{</a><a id="1201" href="Prelude.Collections.html#1009" class="Bound">B</a><a id="1202" class="Symbol">}{</a><a id="1204" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1209" href="Prelude.Collections.html#1101" class="Bound">Z′</a><a id="1211" class="Symbol">}⦃</a> <a id="1214" href="Prelude.Collections.html#1013" class="Bound">ia</a> <a id="1217" class="Symbol">⦄</a> <a id="1219" class="Symbol">⦃</a> <a id="1221" href="Prelude.Collections.html#1020" class="Bound">ib</a> <a id="1224" class="Symbol">⦄</a> <a id="1226" href="Data.List.Relation.Binary.Permutation.Propositional.html#1041" class="Datatype Operator">_↭_</a>
    <a id="1234" href="Prelude.Collections.html#1234" class="Function Operator">_⊆⦅_⦆_</a> <a id="1241" class="Symbol">=</a> <a id="1243" href="Prelude.Collections.html#779" class="Function">relateOn</a> <a id="1252" class="Symbol">{</a><a id="1253" class="Argument">Z</a> <a id="1255" class="Symbol">=</a> <a id="1257" href="Prelude.Collections.html#1003" class="Bound">Z</a><a id="1258" class="Symbol">}{</a><a id="1260" href="Prelude.Collections.html#1006" class="Bound">A</a><a id="1261" class="Symbol">}{</a><a id="1263" href="Prelude.Collections.html#1009" class="Bound">B</a><a id="1264" class="Symbol">}{</a><a id="1266" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1271" href="Prelude.Collections.html#1101" class="Bound">Z′</a><a id="1273" class="Symbol">}⦃</a> <a id="1276" href="Prelude.Collections.html#1013" class="Bound">ia</a> <a id="1279" class="Symbol">⦄</a> <a id="1281" class="Symbol">⦃</a> <a id="1283" href="Prelude.Collections.html#1020" class="Bound">ib</a> <a id="1286" class="Symbol">⦄</a> <a id="1288" href="Data.List.Relation.Binary.Subset.Setoid.html#739" class="Function Operator">_⊆_</a>

<a id="collectFromList↭"></a><a id="1293" href="Prelude.Collections.html#1293" class="Function">collectFromList↭</a> <a id="1310" class="Symbol">:</a> <a id="1312" class="Symbol">∀</a> <a id="1314" class="Symbol">{</a><a id="1315" href="Prelude.Collections.html#1315" class="Bound">X</a> <a id="1317" href="Prelude.Collections.html#1317" class="Bound">Y</a> <a id="1319" class="Symbol">:</a> <a id="1321" class="PrimitiveType">Set</a><a id="1324" class="Symbol">}</a> <a id="1326" class="Symbol">{</a><a id="1327" href="Prelude.Collections.html#1327" class="Bound">xs</a> <a id="1330" href="Prelude.Collections.html#1330" class="Bound">ys</a> <a id="1333" class="Symbol">:</a> <a id="1335" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1340" href="Prelude.Collections.html#1315" class="Bound">X</a><a id="1341" class="Symbol">}</a> <a id="1343" class="Symbol">→</a> <a id="1345" class="Symbol">⦃</a> <a id="1347" href="Prelude.Collections.html#1347" class="Bound">_</a> <a id="1349" class="Symbol">:</a> <a id="1351" href="Prelude.Collections.html#1315" class="Bound">X</a> <a id="1353" href="Prelude.Collections.html#122" class="Record Operator">has</a> <a id="1357" href="Prelude.Collections.html#1317" class="Bound">Y</a> <a id="1359" class="Symbol">⦄</a>
  <a id="1363" class="Symbol">→</a> <a id="1365" href="Prelude.Collections.html#1327" class="Bound">xs</a> <a id="1368" href="Data.List.Relation.Binary.Permutation.Propositional.html#1041" class="Datatype Operator">↭</a> <a id="1370" href="Prelude.Collections.html#1330" class="Bound">ys</a>
  <a id="1375" class="Symbol">→</a> <a id="1377" class="Keyword">let</a> <a id="1381" href="Prelude.Collections.html#1381" class="Bound">f</a> <a id="1383" class="Symbol">=</a> <a id="1385" href="Prelude.Collections.html#168" class="Field">collect</a> <a id="1393" class="Symbol">⦃</a> <a id="1395" href="Prelude.Collections.html#342" class="Function">collectFromList</a> <a id="1411" class="Symbol">⦄</a> <a id="1413" class="Keyword">in</a> <a id="1416" href="Prelude.Collections.html#1381" class="Bound">f</a> <a id="1418" href="Prelude.Collections.html#1327" class="Bound">xs</a> <a id="1421" href="Data.List.Relation.Binary.Permutation.Propositional.html#1041" class="Datatype Operator">↭</a> <a id="1423" href="Prelude.Collections.html#1381" class="Bound">f</a> <a id="1425" href="Prelude.Collections.html#1330" class="Bound">ys</a>
<a id="1428" href="Prelude.Collections.html#1293" class="Function">collectFromList↭</a> <a id="1445" class="Symbol">=</a> <a id="1447" href="Prelude.Lists.html#12679" class="Function">↭-concatMap⁺</a> <a id="1460" href="Prelude.Collections.html#168" class="Field">collect</a>
</pre></body></html>