<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Prelude.Lenses</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-prelude/tree/master/Prelude/Lenses.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Prelude.Lenses.html" class="Module">Prelude.Lenses</a> <a id="23" class="Keyword">where</a>

<a id="30" class="Keyword">open</a> <a id="35" class="Keyword">import</a> <a id="42" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="54" class="Symbol">;</a> <a id="56" class="Keyword">open</a> <a id="61" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="71" class="Keyword">open</a> <a id="76" class="Keyword">import</a> <a id="83" href="Prelude.Lenses.Core.html" class="Module">Prelude.Lenses.Core</a> <a id="103" class="Keyword">public</a>
<a id="110" class="Keyword">open</a> <a id="115" class="Keyword">import</a> <a id="122" href="Prelude.Lenses.Derive.html" class="Module">Prelude.Lenses.Derive</a> <a id="144" class="Keyword">public</a>

<a id="152" class="Keyword">private</a> <a id="160" class="Keyword">variable</a> <a id="169" href="Prelude.Lenses.html#169" class="Generalizable">A</a> <a id="171" href="Prelude.Lenses.html#171" class="Generalizable">B</a> <a id="173" href="Prelude.Lenses.html#173" class="Generalizable">C</a> <a id="175" class="Symbol">:</a> <a id="177" href="Agda.Primitive.html#320" class="Primitive">Type</a>

<a id="lens-id"></a><a id="183" href="Prelude.Lenses.html#183" class="Function">lens-id</a> <a id="191" class="Symbol">:</a> <a id="193" href="Prelude.Lenses.Core.html#398" class="Record">Lens</a> <a id="198" href="Prelude.Lenses.html#169" class="Generalizable">A</a> <a id="200" href="Prelude.Lenses.html#169" class="Generalizable">A</a>
<a id="202" href="Prelude.Lenses.html#183" class="Function">lens-id</a> <a id="210" class="Symbol">=</a> <a id="212" class="Symbol">λ</a> <a id="214" class="Keyword">where</a>
  <a id="222" class="Symbol">.</a><a id="223" href="Prelude.Lenses.Core.html#427" class="Field">get</a> <a id="227" class="Symbol">→</a> <a id="229" href="Function.Base.html#624" class="Function">id</a>
  <a id="234" class="Symbol">.</a><a id="235" href="Prelude.Lenses.Core.html#448" class="Field">set</a> <a id="239" class="Symbol">→</a> <a id="241" class="Symbol">λ</a> <a id="243" href="Prelude.Lenses.html#243" class="Bound">_</a> <a id="245" class="Symbol">→</a> <a id="247" href="Function.Base.html#624" class="Function">id</a>

<a id="_lens-∘_"></a><a id="251" href="Prelude.Lenses.html#251" class="Function Operator">_lens-∘_</a> <a id="260" class="Symbol">:</a> <a id="262" href="Prelude.Lenses.Core.html#398" class="Record">Lens</a> <a id="267" href="Prelude.Lenses.html#169" class="Generalizable">A</a> <a id="269" href="Prelude.Lenses.html#171" class="Generalizable">B</a> <a id="271" class="Symbol">→</a> <a id="273" href="Prelude.Lenses.Core.html#398" class="Record">Lens</a> <a id="278" href="Prelude.Lenses.html#171" class="Generalizable">B</a> <a id="280" href="Prelude.Lenses.html#173" class="Generalizable">C</a> <a id="282" class="Symbol">→</a> <a id="284" href="Prelude.Lenses.Core.html#398" class="Record">Lens</a> <a id="289" href="Prelude.Lenses.html#169" class="Generalizable">A</a> <a id="291" href="Prelude.Lenses.html#173" class="Generalizable">C</a>
<a id="293" href="Prelude.Lenses.html#293" class="Bound">A⟫B</a> <a id="297" href="Prelude.Lenses.html#251" class="Function Operator">lens-∘</a> <a id="304" href="Prelude.Lenses.html#304" class="Bound">B⟫C</a> <a id="308" class="Symbol">=</a> <a id="310" class="Symbol">λ</a> <a id="312" class="Keyword">where</a>
    <a id="322" class="Symbol">.</a><a id="323" href="Prelude.Lenses.Core.html#427" class="Field">get</a> <a id="327" class="Symbol">→</a> <a id="329" href="Prelude.Lenses.html#483" class="Field Operator">_∙c</a> <a id="333" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="335" href="Prelude.Lenses.html#408" class="Function Operator">_∙b</a>
    <a id="343" class="Symbol">.</a><a id="344" href="Prelude.Lenses.Core.html#448" class="Field">set</a> <a id="348" href="Prelude.Lenses.html#348" class="Bound">a</a> <a id="350" href="Prelude.Lenses.html#350" class="Bound">c</a> <a id="352" class="Symbol">→</a> <a id="354" href="Prelude.Lenses.html#348" class="Bound">a</a> <a id="356" href="Prelude.Lenses.html#437" class="Function Operator">∙b↝</a> <a id="360" class="Symbol">(</a><a id="361" href="Prelude.Lenses.html#495" class="Field Operator">_∙c=</a> <a id="366" href="Prelude.Lenses.html#350" class="Bound">c</a><a id="367" class="Symbol">)</a>
  <a id="371" class="Keyword">where</a> <a id="377" class="Keyword">open</a> <a id="382" href="Prelude.Lenses.Core.html#398" class="Module">Lens</a> <a id="387" href="Prelude.Lenses.html#293" class="Bound">A⟫B</a> <a id="391" class="Keyword">renaming</a> <a id="400" class="Symbol">(</a><a id="401" href="Prelude.Lenses.Core.html#427" class="Field">get</a> <a id="405" class="Symbol">to</a> <a id="408" class="Field">_∙b</a><a id="411" class="Symbol">;</a> <a id="413" href="Prelude.Lenses.Core.html#448" class="Field">set</a> <a id="417" class="Symbol">to</a> <a id="420" class="Field">_∙b=_</a><a id="425" class="Symbol">;</a> <a id="427" href="Prelude.Lenses.Core.html#464" class="Function">modify</a> <a id="434" class="Symbol">to</a> <a id="437" class="Function">_∙b↝_</a><a id="442" class="Symbol">)</a>
        <a id="452" class="Keyword">open</a> <a id="457" href="Prelude.Lenses.Core.html#398" class="Module">Lens</a> <a id="462" href="Prelude.Lenses.html#304" class="Bound">B⟫C</a> <a id="466" class="Keyword">renaming</a> <a id="475" class="Symbol">(</a><a id="476" href="Prelude.Lenses.Core.html#427" class="Field">get</a> <a id="480" class="Symbol">to</a> <a id="483" class="Field">_∙c</a><a id="486" class="Symbol">;</a> <a id="488" href="Prelude.Lenses.Core.html#448" class="Field">set</a> <a id="492" class="Symbol">to</a> <a id="495" class="Field">_∙c=_</a><a id="500" class="Symbol">)</a>

<a id="lens-×ˡ"></a><a id="503" href="Prelude.Lenses.html#503" class="Function">lens-×ˡ</a> <a id="511" class="Symbol">:</a> <a id="513" href="Prelude.Lenses.Core.html#398" class="Record">Lens</a> <a id="518" class="Symbol">(</a><a id="519" href="Prelude.Lenses.html#169" class="Generalizable">A</a> <a id="521" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="523" href="Prelude.Lenses.html#171" class="Generalizable">B</a><a id="524" class="Symbol">)</a> <a id="526" href="Prelude.Lenses.html#169" class="Generalizable">A</a>
<a id="528" href="Prelude.Lenses.html#503" class="Function">lens-×ˡ</a> <a id="536" class="Symbol">=</a> <a id="538" class="Symbol">λ</a> <a id="540" class="Keyword">where</a>
  <a id="548" class="Symbol">.</a><a id="549" href="Prelude.Lenses.Core.html#427" class="Field">get</a> <a id="553" class="Symbol">→</a> <a id="555" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="563" class="Symbol">.</a><a id="564" href="Prelude.Lenses.Core.html#448" class="Field">set</a> <a id="568" class="Symbol">(</a><a id="569" href="Prelude.Lenses.html#569" class="Bound">a</a> <a id="571" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="573" href="Prelude.Lenses.html#573" class="Bound">b</a><a id="574" class="Symbol">)</a> <a id="576" href="Prelude.Lenses.html#576" class="Bound">a′</a> <a id="579" class="Symbol">→</a> <a id="581" class="Symbol">(</a><a id="582" href="Prelude.Lenses.html#576" class="Bound">a′</a> <a id="585" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="587" href="Prelude.Lenses.html#573" class="Bound">b</a><a id="588" class="Symbol">)</a>

<a id="lens-×ʳ"></a><a id="591" href="Prelude.Lenses.html#591" class="Function">lens-×ʳ</a> <a id="599" class="Symbol">:</a> <a id="601" href="Prelude.Lenses.Core.html#398" class="Record">Lens</a> <a id="606" class="Symbol">(</a><a id="607" href="Prelude.Lenses.html#169" class="Generalizable">A</a> <a id="609" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="611" href="Prelude.Lenses.html#171" class="Generalizable">B</a><a id="612" class="Symbol">)</a> <a id="614" href="Prelude.Lenses.html#171" class="Generalizable">B</a>
<a id="616" href="Prelude.Lenses.html#591" class="Function">lens-×ʳ</a> <a id="624" class="Symbol">=</a> <a id="626" class="Symbol">λ</a> <a id="628" class="Keyword">where</a>
  <a id="636" class="Symbol">.</a><a id="637" href="Prelude.Lenses.Core.html#427" class="Field">get</a> <a id="641" class="Symbol">→</a> <a id="643" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="651" class="Symbol">.</a><a id="652" href="Prelude.Lenses.Core.html#448" class="Field">set</a> <a id="656" class="Symbol">(</a><a id="657" href="Prelude.Lenses.html#657" class="Bound">a</a> <a id="659" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="661" href="Prelude.Lenses.html#661" class="Bound">b</a><a id="662" class="Symbol">)</a> <a id="664" href="Prelude.Lenses.html#664" class="Bound">b′</a> <a id="667" class="Symbol">→</a> <a id="669" class="Symbol">(</a><a id="670" href="Prelude.Lenses.html#657" class="Bound">a</a> <a id="672" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="674" href="Prelude.Lenses.html#664" class="Bound">b′</a><a id="676" class="Symbol">)</a>

<a id="679" class="Comment">-- lens-× : Lens A B</a>
<a id="700" class="Comment">--        → Lens (A × C) (B × C)</a>
<a id="733" class="Comment">-- lens-× A⟫B@(record {get = _∙b; set = _∙b≔_})</a>
<a id="781" class="Comment">--      = λ where .get → {!!}</a>
<a id="811" class="Comment">--                .set → {!!}</a>
<a id="841" class="Comment">--  where _∙b↝_ = modify A⟫B</a>

<a id="871" class="Keyword">private</a>
  <a id="881" class="Keyword">record</a> <a id="R₀"></a><a id="888" href="Prelude.Lenses.html#888" class="Record">R₀</a> <a id="891" class="Symbol">:</a> <a id="893" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="898" class="Keyword">where</a>
    <a id="908" class="Keyword">field</a>
      <a id="R₀.x"></a><a id="920" href="Prelude.Lenses.html#920" class="Field">x</a> <a id="922" class="Symbol">:</a> <a id="924" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
      <a id="R₀.y"></a><a id="932" href="Prelude.Lenses.html#932" class="Field">y</a> <a id="934" class="Symbol">:</a> <a id="936" href="Agda.Builtin.String.html#318" class="Postulate">String</a>
  <a id="945" class="Keyword">open</a> <a id="950" href="Prelude.Lenses.html#888" class="Module">R₀</a>
  <a id="955" class="Keyword">unquoteDecl</a> <a id="𝕩"></a><a id="967" href="Prelude.Lenses.html#967" class="Function">𝕩</a> <a id="_∙x"></a><a id="969" href="Prelude.Lenses.html#969" class="Function Operator">_∙x</a> <a id="_∙x=_"></a><a id="973" href="Prelude.Lenses.html#973" class="Function Operator">_∙x=_</a> <a id="_∙x↝_"></a><a id="979" href="Prelude.Lenses.html#979" class="Function Operator">_∙x↝_</a>
              <a id="𝕪"></a><a id="999" href="Prelude.Lenses.html#999" class="Function">𝕪</a> <a id="_∙y"></a><a id="1001" href="Prelude.Lenses.html#1001" class="Function Operator">_∙y</a> <a id="_∙y=_"></a><a id="1005" href="Prelude.Lenses.html#1005" class="Function Operator">_∙y=_</a> <a id="_∙y↝_"></a><a id="1011" href="Prelude.Lenses.html#1011" class="Function Operator">_∙y↝_</a>
    <a id="1021" class="Symbol">=</a> <a id="1023" href="Prelude.Lenses.Derive.html#270" class="Function">deriveLenses</a> <a id="1036" class="Symbol">(</a><a id="1037" class="Keyword">quote</a> <a id="1043" href="Prelude.Lenses.html#888" class="Record">R₀</a><a id="1045" class="Symbol">)</a>
      <a id="1053" class="Symbol">(</a> <a id="1055" class="Symbol">(</a><a id="1056" href="Prelude.Lenses.html#967" class="Function">𝕩</a> <a id="1058" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1060" href="Prelude.Lenses.html#969" class="Function Operator">_∙x</a> <a id="1064" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1066" href="Prelude.Lenses.html#973" class="Function Operator">_∙x=_</a> <a id="1072" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1074" href="Prelude.Lenses.html#979" class="Function Operator">_∙x↝_</a><a id="1079" class="Symbol">)</a>
      <a id="1087" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1089" class="Symbol">(</a><a id="1090" href="Prelude.Lenses.html#999" class="Function">𝕪</a> <a id="1092" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1094" href="Prelude.Lenses.html#1001" class="Function Operator">_∙y</a> <a id="1098" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1100" href="Prelude.Lenses.html#1005" class="Function Operator">_∙y=_</a> <a id="1106" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1108" href="Prelude.Lenses.html#1011" class="Function Operator">_∙y↝_</a><a id="1113" class="Symbol">)</a>
      <a id="1121" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1123" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="1125" class="Symbol">)</a>
  <a id="1129" class="Keyword">infixl</a> <a id="1136" class="Number">10</a> <a id="1139" href="Prelude.Lenses.html#973" class="Function Operator">_∙x=_</a> <a id="1145" href="Prelude.Lenses.html#979" class="Function Operator">_∙x↝_</a> <a id="1151" href="Prelude.Lenses.html#1005" class="Function Operator">_∙y=_</a> <a id="1157" href="Prelude.Lenses.html#1011" class="Function Operator">_∙y↝_</a>

  <a id="ex-record"></a><a id="1166" href="Prelude.Lenses.html#1166" class="Function">ex-record</a> <a id="1176" class="Symbol">:</a> <a id="1178" href="Prelude.Lenses.html#888" class="Record">R₀</a>
  <a id="1183" href="Prelude.Lenses.html#1166" class="Function">ex-record</a> <a id="1193" class="Symbol">=</a> <a id="1195" class="Keyword">record</a> <a id="1202" class="Symbol">{</a><a id="1203" href="Prelude.Lenses.html#920" class="Field">x</a> <a id="1205" class="Symbol">=</a> <a id="1207" class="Number">42</a><a id="1209" class="Symbol">;</a> <a id="1211" href="Prelude.Lenses.html#932" class="Field">y</a> <a id="1213" class="Symbol">=</a> <a id="1215" class="String">&quot;test&quot;</a><a id="1221" class="Symbol">}</a>

  <a id="1226" href="Prelude.Lenses.html#1226" class="Function">_</a> <a id="1228" class="Symbol">=</a> <a id="1230" href="Prelude.Lenses.html#1166" class="Function">ex-record</a> <a id="1240" href="Prelude.Lenses.html#1001" class="Function Operator">∙y</a> <a id="1243" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1245" class="String">&quot;test&quot;</a>
    <a id="1256" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1258" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="1266" href="Prelude.Lenses.html#1266" class="Function">_</a> <a id="1268" class="Symbol">=</a> <a id="1270" class="Symbol">(</a><a id="1271" href="Prelude.Lenses.html#1166" class="Function">ex-record</a> <a id="1281" href="Prelude.Lenses.html#1005" class="Function Operator">∙y=</a> <a id="1285" class="String">&quot;TEST&quot;</a><a id="1291" class="Symbol">)</a> <a id="1293" href="Prelude.Lenses.html#1001" class="Function Operator">∙y</a> <a id="1296" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1298" class="String">&quot;TEST&quot;</a>
    <a id="1309" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1311" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="1319" href="Prelude.Lenses.html#1319" class="Function">_</a> <a id="1321" class="Symbol">=</a> <a id="1323" class="Symbol">(</a><a id="1324" href="Prelude.Lenses.html#1166" class="Function">ex-record</a> <a id="1334" href="Prelude.Lenses.html#973" class="Function Operator">∙x=</a> <a id="1338" class="Number">422</a><a id="1341" class="Symbol">)</a> <a id="1343" href="Prelude.Lenses.html#969" class="Function Operator">∙x</a> <a id="1346" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1348" class="Number">422</a>
    <a id="1356" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1358" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="1366" href="Prelude.Lenses.html#1366" class="Function">_</a> <a id="1368" class="Symbol">=</a> <a id="1370" href="Prelude.Lenses.html#1166" class="Function">ex-record</a> <a id="1380" href="Prelude.Lenses.html#1005" class="Function Operator">∙y=</a> <a id="1384" class="String">&quot;TEST&quot;</a>
                <a id="1407" href="Prelude.Lenses.html#973" class="Function Operator">∙x=</a> <a id="1411" class="Number">422</a>
    <a id="1419" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1421" class="Keyword">record</a> <a id="1428" class="Symbol">{</a><a id="1429" href="Prelude.Lenses.html#920" class="Field">x</a> <a id="1431" class="Symbol">=</a> <a id="1433" class="Number">422</a><a id="1436" class="Symbol">;</a> <a id="1438" href="Prelude.Lenses.html#932" class="Field">y</a> <a id="1440" class="Symbol">=</a> <a id="1442" class="String">&quot;TEST&quot;</a><a id="1448" class="Symbol">}</a>
    <a id="1454" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1456" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="1464" href="Prelude.Lenses.html#1464" class="Function">_</a> <a id="1466" class="Symbol">=</a> <a id="1468" href="Prelude.Lenses.html#1166" class="Function">ex-record</a> <a id="1478" href="Prelude.Lenses.html#1011" class="Function Operator">∙y↝</a> <a id="1482" class="Symbol">(</a><a id="1483" class="String">&quot;$&quot;</a> <a id="1487" href="Data.String.Base.html#2375" class="Function Operator">Str.++_</a><a id="1494" class="Symbol">)</a>
                <a id="1512" href="Prelude.Lenses.html#973" class="Function Operator">∙x=</a> <a id="1516" class="Number">422</a>
                <a id="1536" href="Prelude.Lenses.html#979" class="Function Operator">∙x↝</a> <a id="1540" class="Symbol">(</a><a id="1541" href="Data.Nat.Base.html#2883" class="Primitive Operator">_∸</a> <a id="1544" class="Number">1</a><a id="1545" class="Symbol">)</a>
    <a id="1551" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1553" class="Keyword">record</a> <a id="1560" class="Symbol">{</a><a id="1561" href="Prelude.Lenses.html#920" class="Field">x</a> <a id="1563" class="Symbol">=</a> <a id="1565" class="Number">421</a><a id="1568" class="Symbol">;</a> <a id="1570" href="Prelude.Lenses.html#932" class="Field">y</a> <a id="1572" class="Symbol">=</a> <a id="1574" class="String">&quot;$test&quot;</a><a id="1581" class="Symbol">}</a>
    <a id="1587" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1589" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre></body></html>